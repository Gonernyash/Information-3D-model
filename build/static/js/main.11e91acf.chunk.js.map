{"version":3,"sources":["MainCaption.js","three/Model.js","three/Structure.js","WebGLGetData.js","three/link-point.png","three/Room.js","three/InfoModel.js","three/Building.js","three/scriptInit.js","three/GUI.js","three/init.js","three/main.js","WebGLInformation.js","WebGLSearchResultList.js","WebGLSearchInput.js","WebGLSearch.js","WebGLReturnButton.js","WebGLOutput.js","DataBaseTable.js","forms/ZdaniyaForm.js","forms/RoomsForm.js","forms/MotorsForm.js","forms/ShitkiForm.js","forms/PuskateliForm.js","forms/VikluchateliForm.js","forms/ReleForm.js","forms/KluchiForm.js","forms/LampiForm.js","forms/KnopkiForm.js","forms/DataBaseEditForm.js","DataBaseEdit.js","DataBaseMenu.js","AdminContent.js","AdminMenu.js","InterfaceMenu.js","Auth.js","AuthContainer.js","App.js","index.js"],"names":["MainCaption","className","Model","src","parent","this","loader","GLTFLoader","Promise","resolve","load","gltf","obj","scene","console","error","original","clone","model","sizeVector","posVector","rotation","options","dbID","prototype","setOptions","setTexture","color","setSize","size","setPosition","position","applyOptions","setHighlight","setInteraction","setEvents","orig","log","group","THREE","objects","forEach","add","texture","traverse","child","material","x","y","z","scale","set","origSizeBox","setFromObject","origSize","getSize","toVector","rotateY","Math","PI","box","center","getCenter","sub","wallThick","sizeBox","geometry","transparent","opacity","cube","parentObj","hightlight","hideHightlight","newColor","visible","interactionCube","flipX","flipY","flipZ","events","eventName","handler","cursor","on","event","toStructure","structArr","newStruct","Structure","struct","getObjects","push","models","defaulStateCallback","modelDataCallback","floorDataCallback","roomDataCallback","walls","doors","windows","linkPoints","linkText","outline","dbInfo","boxGeometry","boxMaterial","name","wall","drawBox","width","height","pos","wallID","doorSize","doorPos","doorBulge","door","top","windowSize","windowPos","windowBulge","window","text","map","sprite","caption","SpriteText","concat","linewidth","border","renderOrder","transform","setCenter","setOutlineArr","Room","params","grid","vector1","vector2","points","setFromPoints","line","tileSize","gridSize","nmb","xLineCount","floor","yLineCount","zLineCount","zee","i","drawLine","wallWidth","drawGrid","init","then","InfoModel","camera","renderer","structures","current","target","room","rooms","clear","showModelInformation","document","getElementById","classList","remove","infoModel","hideModelsHightlights","showHightlight","id","fetch","method","headers","body","res","json","showFloorInformation","buildingID","showRoomInformation","point","roomID","WebGLGetData","props","useState","items","setItems","useEffect","result","refs","split","indexOf","String","info","prop","length","shift","item","onClick","setScene","Spinner","animation","role","Building","windowsCount1","windowsCount2","windowsCount3","windowsCount4","windowWidth","windowHeight","windowsTop","drawBuildingWindows","count","between","drawWindow","scriptInit","cached","find","script","Function","deps","toString","match","arg","replace","trim","filter","prev","GUIControls","showGrid","container","SCENE","CAMERA","RENDERER","CONTROLS","cameraZoom","sceneWidth","offsetWidth","sceneHeight","innerHeight","innerWidth","setClearColor","sceneInit","Interaction","OrbitControls","update","autoRotateSpeed","autoRotate","enableRotate","enableZoom","gui","dat","autoPlace","closeOnTop","close","controllerGrid","controllerHightlight","appendChild","domElement","onChange","state","myRoom","GUIInit","sceneFileName","a","clearScene","initLights","selectStructure","returnButton","setCamera","addToScene","ambient","directionalLight","animate","requestAnimationFrame","lookAt","render","chooseScene","closeInfo","WebGLInformation","useRef","ref","type","WebGLSearchResultList","children","ListGroup","Item","list","join","as","eventKey","ev","selectItem","WebGLSearchInput","React","forwardRef","title","setTitle","table","setTable","resultItems","setResultItems","input","resultList","key","value","innerText","DropdownButton","drop","variant","Dropdown","onSelect","k","e","placeholder","onInput","req","searchData","isOpen","WebGLSearch","button","searchIcon","closeIcon","searchBlock","getElementsByTagName","inputContainer","getElementsByClassName","closeSearch","focus","WebGLReturnButton","changeScene","WebGLOutput","blackout","iconOpen","iconClose","search","start","isFullScreen","rendererResize","DataBaseTable","thread","data","heading","tbody","tr","Table","striped","bordered","hover","ZdaniyaForm","action","setRow","RoomsForm","setData","SetInput","SetTextarea","MotorsForm","ShitkiForm","PuskateliForm","VikluchateliForm","ReleForm","KluchiForm","LampiForm","KnopkiForm","setCaption","Toggle","Menu","Form","Group","controlId","Label","Control","rows","insertData","updateData","deleteData","DataBaseEditForm","DataBaseEdit","setAction","Nav","defaultActiveKey","Link","val","DataBaseMenu","getData","AdminContent","tab","AdminMenu","setTab","InterfaceMenu","userInfo","default","Auth","isLoad","setIsLoad","usernameInput","passwordInput","err","authHandle","isLogged","setUserInfo","setAuth","setTimeout","username","password","AuthContainer","App","isAuth","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.11e91acf.chunk.js","sourcesContent":["import './mainCaption.css';\r\n\r\nfunction MainCaption() {\r\n    return (\r\n        <div className='main__caption mx-auto'>\r\n            <h1>Информационная 3D-модель теплофизического корпуса АО \"ГНЦ РФ ФЭИ\"</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainCaption;","import * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { toVector } from './Structure'\r\n\r\nclass Model {\r\n    constructor(src, parent) {\r\n        this.src = src;\r\n        this.parent = parent;\r\n    }\r\n\r\n    load() {\r\n        if (this.src) {\r\n            const loader = new GLTFLoader();\r\n            return new Promise(resolve => {\r\n                loader.load('ajax/modelLoader.php?model=' + this.src, gltf => {\r\n                    this.obj = gltf.scene;\r\n                    resolve();\r\n                })\r\n            });\r\n        } else {\r\n            console.error('Model loading error! src is undefined')\r\n        }\r\n    }\r\n\r\n    clone(original) {\r\n        this.obj = original.obj.clone();\r\n    }\r\n\r\n    init(model, sizeVector, posVector, rotation, options, dbID) {\r\n        this.obj.prototype = this;\r\n        if (!model) {\r\n            this.setOptions(options);\r\n            this.setTexture(this.options.color);\r\n            this.setSize(sizeVector);\r\n            this.setPosition(posVector, rotation);\r\n            this.dbID = dbID;\r\n        } else {\r\n            this.setOptions(options, model);\r\n            this.setTexture(this.options.color);\r\n            sizeVector ? this.setSize(sizeVector) : this.size = model.size;\r\n            this.setPosition(posVector ?? model.position, rotation);\r\n            this.dbID = dbID;\r\n        }\r\n        this.applyOptions();\r\n        this.setHighlight();\r\n        this.setInteraction();\r\n        this.setEvents();\r\n    }\r\n\r\n    transform(options) {\r\n        const orig = this.src;\r\n        console.log(orig);\r\n        const group = new THREE.Group();\r\n        orig.objects.forEach(obj => group.add(obj));\r\n        this.obj = group;\r\n\r\n        this.setOptions(options)\r\n        this.size = orig.size;\r\n        this.position = orig.position;\r\n        this.setHighlight();\r\n        this.setInteraction();\r\n        this.applyOptions();\r\n    }\r\n\r\n    setTexture(color) {\r\n        const texture = new THREE.MeshStandardMaterial({color: color});\r\n        this.obj.traverse(child => {\r\n            if (child instanceof THREE.Mesh) {\r\n                child.material = texture;\r\n            }\r\n        });\r\n    }\r\n\r\n    setSize(sizeVector) {\r\n        this.size = sizeVector;\r\n        this.size = {\r\n            x: sizeVector.y,\r\n            y: sizeVector.z,\r\n            z: sizeVector.x\r\n        };\r\n\r\n        // Установка размеров модели\r\n        // Размеры в Three JS указываются в scale.\r\n        // (scale - величина, определяющая во сколько раз изменится размер модели по сравнению с изначальным)\r\n        // Выставляем scale = 1 (оригинальный размер модели)\r\n        this.obj.scale.set(1, 1, 1);\r\n\r\n        // Находим размер модели\r\n        const origSizeBox = new THREE.Box3().setFromObject(this.obj)\r\n        const origSize = new THREE.Vector3();\r\n        origSizeBox.getSize(origSize);\r\n\r\n        // Находим scale, в который нужно возвести модель для соответствия заданным размерам\r\n        const scale = toVector(\r\n            this.size.x / origSize.x,\r\n            this.size.y / origSize.y,\r\n            this.size.z / origSize.z\r\n        );\r\n        this.obj.scale.set(scale.x, scale.y, scale.z);\r\n    }\r\n\r\n    setPosition(posVector, rotation) {\r\n        this.position = posVector;\r\n        // Поворачиваем модель\r\n        if (rotation) switch (rotation) {\r\n            case 1: \r\n                this.obj.rotateY(Math.PI * 0.5);\r\n            break;\r\n            case 2: \r\n                this.obj.rotateY(Math.PI)\r\n            break;\r\n            case 3: \r\n                this.obj.rotateY(Math.PI * 1.5);\r\n            break;\r\n            default: console.error('Wrong rotation value in setModelPosition function');\r\n        }\r\n\r\n        // !Центр, установленный автором модели, может на самом деле не являтся центром(lol)\r\n        // Определение центра модели\r\n        const box = new THREE.Box3().setFromObject(this.obj);\r\n        const center = new THREE.Vector3();\r\n        box.getCenter(center);\r\n\r\n        // Установка центра модели в начало координат (0, 0, 0)\r\n        this.obj.position.sub(center);\r\n\r\n        // Устанавливаем позицию учитывая поворот модели\r\n        switch (rotation) {\r\n            case 1:\r\n                this.obj.position.x += this.position.y + this.size.z / 2 + this.parent.wallThick;\r\n                this.obj.position.y += this.position.z + this.size.y / 2 + this.parent.wallThick;\r\n                this.obj.position.z += this.position.x + this.size.x / 2 + this.parent.wallThick;\r\n            break;\r\n            case 2:\r\n                this.obj.position.x += this.position.y + this.size.x / 2 + this.parent.wallThick;\r\n                this.obj.position.y += this.position.z + this.size.y / 2 + this.parent.wallThick;\r\n                this.obj.position.z += this.position.x + this.size.z / 2 + this.parent.wallThick;\r\n            break;\r\n            case 3:\r\n                this.obj.position.x += this.position.y + this.size.z / 2 + this.parent.wallThick;\r\n                this.obj.position.y += this.position.z + this.size.y / 2 + this.parent.wallThick;\r\n                this.obj.position.z += this.position.x + this.size.x / 2 + this.parent.wallThick;\r\n            break;\r\n            default:\r\n                this.obj.position.x += this.position.y + this.size.x / 2 + this.parent.wallThick;\r\n                this.obj.position.y += this.position.z + this.size.y / 2 + this.parent.wallThick;\r\n                this.obj.position.z += this.position.x + this.size.z / 2 + this.parent.wallThick;\r\n            break;\r\n        }  \r\n    }\r\n\r\n    setHighlight() {\r\n        const shell = 0.1;\r\n        // Находим размер модели\r\n        const sizeBox = new THREE.Box3().setFromObject(this.obj)\r\n        const size = new THREE.Vector3();\r\n        sizeBox.getSize(size);\r\n\r\n        // Находим центр модели\r\n        const center = new THREE.Vector3();\r\n        sizeBox.getCenter(center);\r\n\r\n        // Создание куба-подстветки модели\r\n        const geometry = new THREE.BoxGeometry(size.x + shell, size.y + shell, size.z + shell);\r\n        const material = new THREE.MeshBasicMaterial({color: 0x00ff00, transparent: true, opacity: 0.5});\r\n        const cube = new THREE.Mesh(geometry, material);\r\n\r\n        cube.position.set(center.x, center.y, center.z);\r\n\r\n        cube.parentObj = this;\r\n        this.hightlight = cube;\r\n\r\n        this.hideHightlight();\r\n    }\r\n\r\n    showHightlight(newColor) {\r\n        const material = new THREE.MeshBasicMaterial({\r\n            color: newColor ? newColor : 0x00ff00, \r\n            transparent: true, \r\n            opacity: 0.5\r\n        });\r\n\r\n        this.hightlight.material = material;\r\n        this.hightlight.visible = true;\r\n    }\r\n\r\n    hideHightlight() {\r\n        this.hightlight.visible = false;\r\n    }\r\n\r\n    setInteraction() {\r\n        const shell = 0.1;\r\n        // Находим размер модели\r\n        const sizeBox = new THREE.Box3().setFromObject(this.obj);\r\n        const size = new THREE.Vector3();\r\n        sizeBox.getSize(size);\r\n\r\n        // Находим центр модели\r\n        const center = new THREE.Vector3();\r\n        sizeBox.getCenter(center);\r\n\r\n        // Создание куба вокруг модели для взаимодействия с событиями курсора мыши\r\n        const geometry = new THREE.BoxGeometry(size.x + shell, size.y + shell, size.z + shell);\r\n        const material = new THREE.MeshBasicMaterial({color: 0x025015, transparent: true, opacity: 0.5});\r\n        material.visible = false;\r\n        const cube = new THREE.Mesh(geometry, material);\r\n\r\n        cube.position.set(center.x, center.y, center.z);\r\n\r\n        cube.parentObj = this.obj;\r\n        this.interactionCube = cube;\r\n    }\r\n\r\n    setOptions(options, model) {\r\n        this.options = {};\r\n        if (!model) {\r\n            model = {};\r\n            model.options = {};\r\n        }\r\n        if (!options) options = {};\r\n        \r\n        this.options.flipX = options.flipX ?? false;\r\n        this.options.flipY = options.flipY ?? false;\r\n        this.options.flipZ = options.flipZ ?? false;\r\n        this.options.color = options.color ?? model.options.color ?? 0x535254;\r\n        this.events = options.events ?? model.events ?? {};\r\n\r\n    }\r\n\r\n    applyOptions() {\r\n        if (this.options.flipX) {\r\n            this.obj.scale.x = - this.obj.scale.x;\r\n        }\r\n\r\n        if (this.options.flipY) {\r\n            this.obj.scale.y = - this.obj.scale.y;\r\n        }\r\n\r\n        if (this.options.flipZ) {\r\n            this.obj.scale.z = - this.obj.scale.z;\r\n        }\r\n    }\r\n\r\n    setEvents() {\r\n        if (this.events) {\r\n            for (let eventName in this.events) {\r\n                let handler = this.events[eventName];\r\n                if (handler) {\r\n                    this.interactionCube.cursor = 'pointer';\r\n                    this.interactionCube.on(eventName, (event) => handler(event));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Model;","import * as THREE from 'three';\r\nimport SpriteText from 'three-spritetext';\r\nimport Model from './Model';\r\nimport * as linkPointURL from './link-point.png';\r\n\r\nfunction toVector(x, y, z) {\r\n    return {\r\n        x: x,\r\n        y: y,\r\n        z: z\r\n    }\r\n}\r\n\r\nfunction vectorToArr(obj) {\r\n    return [obj.x, obj.y, obj.z]\r\n}\r\n\r\nfunction toStructure(structArr) {\r\n    const newStruct = new Structure();\r\n    structArr.forEach(struct => {\r\n        const objects = struct.getObjects();\r\n        objects.forEach(obj => newStruct.objects.push(obj));\r\n        struct.parentObj = newStruct;\r\n        if (struct.events) newStruct.models.push(struct);\r\n    });\r\n    return newStruct\r\n}\r\n\r\nclass Structure {\r\n    constructor(sizeVector, posVector, color, opacity, options) {\r\n        // Размеры постройки\r\n        this.size = sizeVector ? toVector(sizeVector.x, sizeVector.y, sizeVector.z) : toVector(0, 0, 0);\r\n        // Расположение постройки\r\n        this.position = posVector ? toVector(posVector.x, posVector.y, posVector.z) : toVector(0, 0, 0);\r\n        this.color = color; // Цвет\r\n        this.opacity = opacity; // Непрозрачность\r\n        this.wallThick = 0; // Толщина стен (по умолчнию)\r\n        this.center = toVector(0, 0, 0); // Центр постройки (по умолчнию)\r\n        this.walls = []; // Массив стен\r\n        this.doors = []; // Массив дверей\r\n        this.windows = []; // Массив окон\r\n        this.linkPoints = []; // Массив точек-ссылок\r\n        this.linkText = []; // Массив ссылочных текстов\r\n        this.models = []; // Массив загружаемых моделей\r\n        this.outline = []; // Массив контуров постройки\r\n\r\n        // Этот массив будет содержать все вышеперечисленные объекты\r\n        // И будет использоватьтся на этапе отрисовки\r\n        this.objects = []; \r\n        this.events = []; // События\r\n\r\n        // Опциональные параметры\r\n        this.options = options ?? {}; // Обработка параметров\r\n        this.events = this.options.events ?? null; // События\r\n        this.dbInfo = this.options.dbInfo ?? null; // id для связи с БД\r\n        this.src = this.options.src ?? null; // Ссылка на внешний файл\r\n    }\r\n\r\n    drawBox(sizeVector, posVector, color, opacity) {\r\n        const boxGeometry = new THREE.BoxGeometry(sizeVector.y, sizeVector.z, sizeVector.x);\r\n        const boxMaterial = new THREE.LineBasicMaterial({color: color, transparent: true, opacity: opacity ?? this.opacity});\r\n        const box = new THREE.Mesh(boxGeometry, boxMaterial);\r\n        box.position.set(\r\n            posVector.y + sizeVector.y / 2,\r\n            posVector.z + sizeVector.z / 2,\r\n            posVector.x + sizeVector.x / 2\r\n        ) \r\n        box.name = \"box\";\r\n        this.objects.push(box);\r\n        return box;\r\n    }\r\n\r\n    drawWall(sizeVector, posVector, color) {\r\n        console.log(this.walls);\r\n        const wall = this.drawBox(sizeVector, posVector, color);\r\n        wall.name = \"additional-wall\";\r\n\t\tthis.walls.push(wall);\r\n        this.objects.push(wall);\r\n\t}\r\n\r\n    drawDoor(width, height, pos, wallID) {\r\n        // !wallID можно найти в объявлении this.walls в конструкторе\r\n        const doorBulge = 0.4;\r\n        let doorSize;\r\n        let doorPos;\r\n        switch (wallID) {\r\n            case 1:\r\n                doorSize = {\r\n                    x: this.wallThick + doorBulge,\r\n                    y: width,\r\n                    z: height \r\n                }  \r\n                doorPos = {\r\n                    x: this.position.x - doorBulge / 2,\r\n                    y: this.position.y + pos + this.wallThick,\r\n                    z: this.wallThick\r\n                }    \r\n            break;\r\n            case 2:\r\n                doorSize = {\r\n                    x: width,\r\n                    y: this.wallThick + doorBulge,\r\n                    z: height \r\n                }     \r\n                doorPos = {\r\n                    x: this.position.x + pos + this.wallThick,\r\n                    y: this.position.y + this.size.y + this.wallThick - doorBulge / 2,\r\n                    z: this.wallThick\r\n                }  \r\n            break;\r\n            case 3:\r\n                doorSize = {\r\n                    x: this.wallThick + doorBulge,\r\n                    y: width,\r\n                    z: height \r\n                }     \r\n                doorPos = {\r\n                    x: this.position.x + this.size.x + this.wallThick - doorBulge / 2,\r\n                    y: this.position.y + pos + this.wallThick,\r\n                    z: this.wallThick\r\n                } \r\n            break;\r\n            case 4:  \r\n                doorSize = {\r\n                    x: width,\r\n                    y: this.wallThick + doorBulge,\r\n                    z: height \r\n                }\r\n                doorPos = {\r\n                    x: this.position.x + pos + this.wallThick,\r\n                    y: this.position.y - doorBulge / 2,\r\n                    z: this.wallThick\r\n                }  \r\n            break;\r\n            default: console.error('Wrong wallID in drawDoor function');\r\n        } \r\n\r\n\r\n        const door = this.drawBox(doorSize, doorPos, 0x4f3b03, 0.5);\r\n        door.name = \"door\";\r\n        this.doors.push(door);\r\n        this.objects.push(door);\r\n    }\r\n\r\n\tdrawWindow(width, height, pos, top, wallID) {\r\n\t\t// !wallID можно найти в объявлении this.walls в конструкторе\r\n        const windowBulge = 0.4;\r\n        let windowSize;\r\n        let windowPos;\r\n        switch (wallID) {\r\n            case 1:\r\n                windowSize = {\r\n                    x: this.wallThick + windowBulge,\r\n                    y: width,\r\n                    z: height \r\n                }  \r\n\t\t\t\twindowPos = {\r\n\t\t\t\t\tx: this.position.x - windowBulge / 2,\r\n\t\t\t\t\ty: this.position.y + pos + this.wallThick,\r\n\t\t\t\t\tz: this.position.z + this.wallThick + top\r\n\t\t\t\t}    \r\n            break;\r\n            case 2:\r\n                windowSize = {\r\n                    x: width,\r\n                    y: this.wallThick + windowBulge,\r\n                    z: height \r\n                }      \r\n\t\t\t\twindowPos = {\r\n                    x: this.position.x + pos + this.wallThick,\r\n                    y: this.position.y + this.size.y + this.wallThick - windowBulge / 2,\r\n                    z: this.position.z + this.wallThick + top\r\n                } \r\n            break;\r\n            case 3:\r\n                windowSize = {\r\n                    x: this.wallThick + windowBulge,\r\n                    y: width,\r\n                    z: height \r\n                }    \r\n\t\t\t\twindowPos = {\r\n                    x: this.position.x + this.size.x + this.wallThick - windowBulge / 2,\r\n                    y: this.position.y + pos + this.wallThick,\r\n                    z: this.position.z + this.wallThick + top\r\n                } \r\n            break;\r\n            case 4:  \r\n\t\t\t\twindowSize = {\r\n                    x: width,\r\n                    y: this.wallThick + windowBulge,\r\n                    z: height \r\n                }\r\n\t\t\t\twindowPos = {\r\n                    x: this.position.x + pos + this.wallThick,\r\n                    y: this.position.y - windowBulge / 2,\r\n                    z: this.position.z + this.wallThick + top\r\n                }\r\n            break;\r\n            default: console.error('Wrong wallID in drawWindow function');\r\n        } \r\n\r\n        const window = this.drawBox(windowSize, windowPos, 0x2afafa, 0.2);\r\n        window.name = \"window\";\r\n        this.windows.push(window);\r\n        this.objects.push(window);\r\n\t}\r\n\r\n    drawLinkPoint(text, src, posVector, options) {\r\n        const map = new THREE.TextureLoader().load(linkPointURL.default);\r\n        const material = new THREE.SpriteMaterial({map: map, color: 0x005000});\r\n        const sprite = new THREE.Sprite(material);\r\n        sprite.scale.set(7, 7, 7);\r\n        sprite.src = src;\r\n        sprite.position.set(posVector.y, posVector.z, posVector.x);\r\n\r\n        const caption = new SpriteText(text, 5);\r\n        caption.position.set(posVector.y, posVector.z + 7, posVector.x);\r\n        \r\n        sprite.options = options ?? {}; \r\n\r\n        sprite.events = sprite.options.events;\r\n        sprite.dbID = sprite.options.dbID;\r\n\r\n        if (sprite.events) {\r\n            for (let eventName in sprite.events) {\r\n                let handler = sprite.events[eventName];\r\n                if (handler) {\r\n                    sprite.cursor = 'pointer';\r\n                    sprite.on(eventName, (event) => handler(event));\r\n                }\r\n            }\r\n        }\r\n\r\n        sprite.parentObj = this;\r\n        caption.parentObj = this;\r\n        sprite.name = \"link-point\";\r\n        caption.name = \"link-point-caption\";\r\n        this.linkPoints.push(sprite);\r\n        this.objects.push(sprite);\r\n        this.linkText.push(caption);\r\n        this.objects.push(caption);\r\n        console.log(sprite);\r\n    }\r\n\r\n    setHighlight() {\r\n        const shell = 0.1;\r\n\r\n        const group = new THREE.Group();\r\n        this.objects.forEach(obj => group.add(obj));\r\n\r\n        // Находим размер модели\r\n        const sizeBox = new THREE.Box3().setFromObject(group)\r\n        const size = new THREE.Vector3();\r\n        sizeBox.getSize(size);\r\n\r\n        // Находим центр модели\r\n        const center = new THREE.Vector3();\r\n        sizeBox.getCenter(center);\r\n\r\n        // Создание куба-подстветки модели\r\n        const geometry = new THREE.BoxGeometry(size.x + shell, size.y + shell, size.z + shell);\r\n        const material = new THREE.MeshBasicMaterial({color: 0x00ff00, transparent: true, opacity: 0.5});\r\n        const cube = new THREE.Mesh(geometry, material);\r\n\r\n        cube.position.set(center.x, center.y, center.z);\r\n\r\n        cube.name = \"hightlight\";\r\n        cube.parentObj = this;\r\n        this.hightlight = cube;\r\n        this.objects.push(this.hightlight);\r\n\r\n        this.hideHightlight();\r\n    }\r\n\r\n    showHightlight(newColor) {\r\n        const material = new THREE.MeshBasicMaterial({\r\n            color: newColor ? newColor : 0x00ff00, \r\n            transparent: true, \r\n            opacity: 0.5\r\n        });\r\n\r\n        this.hightlight.material = material;\r\n        this.hightlight.visible = true;\r\n    }\r\n\r\n    hideHightlight() {\r\n        this.hightlight.visible = false;\r\n    }\r\n\r\n    setInteraction() {\r\n        const shell = 1.5;\r\n\r\n        const group = new THREE.Group();\r\n        this.objects.forEach(obj => group.add(obj));\r\n\r\n        // Находим размер модели\r\n        const sizeBox = new THREE.Box3().setFromObject(group);\r\n        const size = new THREE.Vector3();\r\n        sizeBox.getSize(size);\r\n\r\n        // Находим центр модели\r\n        const center = new THREE.Vector3();\r\n        sizeBox.getCenter(center);\r\n\r\n        // Создание куба вокруг модели для взаимодействия с событиями курсора мыши\r\n        const geometry = new THREE.BoxGeometry(size.x + shell, size.y + shell, size.z + shell);\r\n        const material = new THREE.MeshBasicMaterial({color: 0x025015, transparent: true, opacity: 0.5});\r\n        material.visible = false;\r\n        const cube = new THREE.Mesh(geometry, material);\r\n\r\n        cube.position.set(center.x, center.y, center.z);\r\n\r\n        cube.name = \"interaction\";\r\n        cube.parentObj = this;\r\n        this.interactionCube = cube;\r\n        this.objects.push(this.interactionCube);\r\n    }\r\n\r\n    setOutlineArr() { // Метод для создания контура модели\r\n        // Создаем новый масив с объектами, на которые необходимо добавить контур\r\n        const objsArr = [].concat(...this.outline); \r\n        objsArr.forEach(obj => { // Проходимся в цикле по каждому элементу этого массива\r\n            // Задаем тип фигуры (В конкретном случае - контур)\r\n            const geometry = new THREE.EdgesGeometry(obj.geometry); \r\n            // Задаем материал (В конкретном случае - черная линия шириной 4)\r\n            const material = new THREE.LineBasicMaterial({color: 0x000000, linewidth: 4});\r\n            const border = new THREE.LineSegments(geometry, material); // Создаем контур\r\n            // Указываем, что контур модели будет отрисован непосредственно после нее\r\n            border.renderOrder = 1;  \r\n            border.name = \"border\"; // Пометка для объекта\r\n            obj.add(border); // Связываем созданный контур с моделью\r\n        });\r\n    }\r\n    \r\n    setCenter() { // Метод для нахождения центра постройки\r\n        const group = new THREE.Group(); // Создаем группу объектов\r\n        // Объединяем все объекты на сцене в группу\r\n        this.objects.forEach(obj => group.add(obj)); \r\n        // Создаем невидимый прямоугольник, содержащий в себе все элементы группы\r\n        const box = new THREE.Box3().setFromObject(group); \r\n        // Находим его центр\r\n        const center = new THREE.Vector3();\r\n        box.getCenter(center);\r\n        center.y = 0; // Координату y(z в привычной нам декартовой системе) ставим в 0\r\n        this.center = center; // Записываем полученные координаты в свойство класса\r\n    }\r\n\r\n    toModel(options) {\r\n        const model = new Model(this);\r\n        model.transform(options);\r\n        return model\r\n    }\r\n\r\n    getObjects() { // Метод для отрисовки постройки\r\n        this.setCenter(); // Находим центр модели\r\n        this.setOutlineArr(); // Создаем контур\r\n        return this.objects // Возвращаем все объекты\r\n    }\r\n}\r\n\r\nexport default Structure;\r\nexport {toVector, vectorToArr, toStructure};","import {useState, useEffect} from 'react';\r\nimport {infoModel} from './three/init';\r\nimport {Spinner} from 'react-bootstrap';\r\n\r\nlet struct;\r\nlet defaulStateCallback;\r\nlet modelDataCallback;\r\nlet floorDataCallback;\r\nlet roomDataCallback;\r\n\r\nfunction WebGLGetData(props) {\r\n\r\n    let [items, setItems] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        defaulStateCallback = () => {\r\n            setItems([]);\r\n        }\r\n\r\n        modelDataCallback = result => {\r\n            if (result[\"refs\"]) {\r\n                const refs = result[\"refs\"].split(', ');\r\n                struct.models.forEach(model => {\r\n                    if (refs.indexOf(String(model.dbID)) > -1) {\r\n                        model.showHightlight(0xff0000);\r\n                    }\r\n                })\r\n            }\r\n            \r\n            delete result[\"refs\"];\r\n\r\n            const info = [<h4 key={'table'} className=\"webgl__property webgl__heading\">{result[\"table\"]}</h4>];\r\n            delete result[\"table\"];\r\n            for (let prop in result) {\r\n                info.push(<h6 key={info.length}><span className=\"webgl__property\">{prop}</span>{result[prop]}</h6>);\r\n            }\r\n            setItems(info);\r\n        };\r\n\r\n        floorDataCallback = result => {\r\n            const info = [<h4 key={'table'} className=\"webgl__property webgl__heading\">{result.shift()[0]}</h4>];\r\n            if (result.length === 0) {\r\n                info.push(<h6 key={0}>Комнаты не найдены</h6>);\r\n            } else {\r\n                info.push(<h6 key={-1}>Комнаты:</h6>);\r\n                const items = result.map((item, i) => <li key={i}><h6>{item[0]}</h6></li>);\r\n                info.push(<ul className=\"webgl__items-list\" key={items.length}>{items}</ul>);\r\n            }\r\n            info.push(\r\n                <button className=\"webgl__infobtn\" key={info.length} onClick={props.setScene}>\r\n                    <h6 className=\"webgl__infobtn__caption\">Подробнее</h6>\r\n                </button>\r\n            );\r\n            setItems(info);\r\n        }\r\n\r\n        roomDataCallback = result => {\r\n            const info = [\r\n                <h4 key={0} className=\"webgl__property webgl__heading\">Здание: {result[0]}</h4>,\r\n                <h4 key={1} className=\"webgl__property webgl__heading\">Комната: {result[1]}</h4>,\r\n                <h5 key={2}>Описание:</h5>,\r\n                <h6 key={3}>{result[2]}</h6>\r\n            ];\r\n            info.push(\r\n                <button className=\"webgl__infobtn\" key={info.length} onClick={props.setScene}>\r\n                    <h6 className=\"webgl__infobtn__caption\">Подробнее</h6>\r\n                </button>\r\n            );\r\n            setItems(info);\r\n        }\r\n    });\r\n\r\n\r\n    if (items.length === 0) {\r\n        return(\r\n            <div className=\"webgl__spinner\">\r\n                <Spinner animation=\"border\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n            </div>\r\n        );\r\n    } else {\r\n        return(     \r\n            <div className=\"webgl__info__mark\">\r\n                {items}\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nfunction showModelInformation(event) {\r\n    // Показываем пользователю значок загрузки\r\n    defaulStateCallback(); \r\n    // Поиск окна с информацией\r\n    const infoContainer = document.getElementById('WebGL-info'); \r\n    // Показываем пользователю окно с информацией\r\n    infoContainer.classList.remove('none'); \r\n\r\n    // Модель по которой было совершено нажатие\r\n    const target = event.target.parentObj.prototype; \r\n    // Комната, в которой расположена модель\r\n    struct = target.parent;\r\n\r\n    // Скрытие подсветки всех моделей в комнате\r\n    infoModel.hideModelsHightlights(struct);\r\n    // Подсветка той модели, по которой было совершено нажатие\r\n    target.showHightlight();\r\n\r\n    const id = target.dbID; // id модели в БД\r\n\r\n    // Отправка запроса на сервер\r\n    fetch('ajax/modelData.php', {\r\n        method: 'POST', // Для отправки используем метод POST\r\n        headers: {\r\n            // Помечаем отправные ланные как данные с формы\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: \"id=\" + id // Сами данные\r\n    }).then(res => res.json()) // Ответ декодируем из JSON\r\n    .then(res => {\r\n        // После чего выводим информацию в окно с информацией\r\n        modelDataCallback(res); \r\n    });\r\n}\r\n\r\nfunction showFloorInformation(event) {\r\n    defaulStateCallback();\r\n\r\n    const infoContainer = document.getElementById('WebGL-info');\r\n    infoContainer.classList.remove('none');\r\n\r\n    const target = event.target.parentObj;\r\n    const struct = target.parentObj;\r\n    infoModel.target = target;\r\n\r\n    infoModel.hideModelsHightlights(struct);\r\n    target.showHightlight();\r\n\r\n    const buildingID = target.dbInfo.buildingID;\r\n    const floor = target.dbInfo.floor;\r\n    fetch('ajax/floorData.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `building=${buildingID}&floor=${floor}` \r\n    }).then(res => res.json())\r\n    .then(res => {\r\n        floorDataCallback(res);\r\n    });\r\n}\r\n\r\nfunction showRoomInformation(event) {\r\n    defaulStateCallback();\r\n\r\n    const infoContainer = document.getElementById('WebGL-info');\r\n    infoContainer.classList.remove('none');\r\n\r\n    const target = event.target;\r\n    const struct = target.parentObj;\r\n    infoModel.target = target;\r\n\r\n    infoModel.hideModelsHightlights(struct);\r\n    struct.linkPoints.forEach(point => point.material.color.set(0x005000));\r\n    target.material.color.set(0xffffff);\r\n    console.log(struct);\r\n\r\n    const roomID = target.dbID;\r\n    fetch('ajax/roomData.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `room=${roomID}` \r\n    }).then(res => res.json())\r\n    .then(res => {\r\n        roomDataCallback(res);\r\n    });\r\n}\r\n\r\nexport default WebGLGetData;\r\nexport {showModelInformation, showFloorInformation, showRoomInformation};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAABMWlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz62OsUrDUBRAz4ui4lArBHFweJMoKLbqYMakLUUQrNUhydakoUppEl5e1X6Eo1sHF3e/wMlRcFD8Av9AcergECGDgwie6dzD5XLBqNh1p2GUYRBr1W460vV8OfvEDFMA0Amz1G61DgDiJI74wecrAuB50647Df7GfJgqDUyA7W6UhSAqQP9CpxrEGDCDfqpB3AGmOmnXQDwApV7uL0ApyP0NKCnX80F8AGbP9Xww5gAzyH0FMHV0qQFqSTpSZ71TLauWZUm7mwSRPB5lOhpkcj8OE5UmqqOjLpD/B8BivthuOnKtall76/wzrufL3N6PEIBYeixaQThU598qjJ3f5+LGeBkOb2F6UrTdK7jZgIXroq1WobwF9+MvwMZP/U6/OGUAAAAJcEhZcwAACxMAAAsTAQCanBgAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwNiA3OS4xNjQ3NTMsIDIwMjEvMDIvMTUtMTE6NTI6MTMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDUtMDVUMTQ6MDk6MDcrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA1LTA1VDE0OjIxOjMxKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA1LTA1VDE0OjIxOjMxKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxZGE1NjhhMi0yMzRhLWJlNGQtOWIxYi02MGVmMDAwMzQwMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MWRhNTY4YTItMjM0YS1iZTRkLTliMWItNjBlZjAwMDM0MDI4IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MWRhNTY4YTItMjM0YS1iZTRkLTliMWItNjBlZjAwMDM0MDI4Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZGE1NjhhMi0yMzRhLWJlNGQtOWIxYi02MGVmMDAwMzQwMjgiIHN0RXZ0OndoZW49IjIwMjEtMDUtMDVUMTQ6MDk6MDcrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ohO/2AAAeeklEQVR42u2dbZBU1bnvf4OCwqUqfroeOVXniCfnWHnRU2Wqghq+HT+JxTFVScw1N2iwrBLvp+gHKc8RZuiXvfbuHmZ6IBBCoSgmgFeREDmiARRkQBw1oLmFlXhGLmDlWjgHFRgMI6z7oVfP9AzDTM9Mz9q7u//1q6cGZnZ3717ref57vT4LVoB3Wwk8DbQBecAAGSAEVgFr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\"","import * as THREE from 'three';\r\nimport Structure, {toVector} from './Structure';\r\nimport Model from './Model';\r\n\r\nclass Room extends Structure {\r\n    constructor(sizeVector, posVector, wallThick, color, opacity, params) {\r\n        super(sizeVector, posVector, color, opacity, params);\r\n\r\n        //Толщина стен\r\n        this.wallThick = wallThick;\r\n\r\n/*\r\n            Walls ID:\r\n\t\t\t                         \r\n                                  X\r\n                   1              ^ \r\n          __|______________|__    |\r\n            |              |      |\r\n            |              |      |\r\n          4 |              | 2    | \r\n            |              |      |\r\n            |              |      |\r\n          __|______________|__    |\r\n            |              |      |\r\n                   3              |\r\n                                  |\r\n\t  Y <-------------------------|-----\r\n\t\t\t                      |   \r\n*/\r\n\r\n        //Стены\r\n        const walls = [\r\n        // Основание\r\n        this.drawBox(\r\n            toVector(\r\n                this.size.x + this.wallThick * 2,\r\n                this.size.y + this.wallThick * 2,\r\n                this.wallThick\r\n            ),\r\n            this.position,\r\n            this.color\r\n        ),\r\n\r\n        // Стена по X #1 \r\n        this.drawBox(\r\n            toVector(\r\n                this.wallThick,\r\n                this.size.y + this.wallThick * 2,\r\n                this.size.z\r\n            ),\r\n            toVector(\r\n                this.position.x,\r\n                this.position.y,\r\n                this.position.z + this.wallThick\r\n            ),\r\n            this.color\r\n        ),\r\n\r\n        // Стена по X #2\r\n        this.drawBox(\r\n            toVector(\r\n                this.wallThick,\r\n                this.size.y + this.wallThick * 2,\r\n                this.size.z\r\n            ),\r\n            toVector(\r\n                this.position.x + this.size.x + this.wallThick,\r\n                this.position.y,\r\n                this.position.z + this.wallThick\r\n            ),\r\n            this.color\r\n        ),\r\n\r\n        // Стена по Y #1 \r\n        this.drawBox(\r\n            toVector(\r\n                this.size.x,\r\n                this.wallThick,\r\n                this.size.z\r\n            ),\r\n            toVector(\r\n                this.position.x + this.wallThick,\r\n                this.position.y,\r\n                this.position.z + this.wallThick\r\n            ),\r\n            this.color\r\n        ),\r\n\r\n        // Стена по Y #2\r\n        this.drawBox(\r\n            toVector(\r\n                this.size.x,\r\n                this.wallThick,\r\n                this.size.z\r\n            ),\r\n            toVector(\r\n                this.position.x + this.wallThick,\r\n                this.position.y + this.size.y + this.wallThick,\r\n                this.position.z + this.wallThick\r\n            ),\r\n            this.color\r\n            )\r\n        ];\r\n        this.walls.forEach(wall => wall.name = \"main-wall\");\r\n        this.walls.push(...walls);\r\n\r\n        // Сетка\r\n\t\tthis.grid = [];\r\n\r\n        this.outline = [this.walls, this.doors, this.windows];\r\n    }\r\n\r\n\tdrawLine(vector1, vector2) {\r\n\t\tconst material = new THREE.LineBasicMaterial({color: 0xff0000});\r\n\t\tconst points = [\r\n\t\t\t{\r\n\t\t\t\tx: vector1.y,\r\n\t\t\t\ty: vector1.z,\r\n\t\t\t\tz: vector1.x\r\n\t\t\t}, \r\n\t\t\t{\r\n\t\t\t\tx: vector2.y,\r\n\t\t\t\ty: vector2.z,\r\n\t\t\t\tz: vector2.x\r\n\t\t\t}\r\n\t\t];\r\n\t\tconst geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n\t\tconst line = new THREE.Line( geometry, material );\r\n        line.visible = false;\r\n\t\treturn line;\r\n\t}\r\n\r\n\tdrawGrid(tileSize, gridSize, pos) {\r\n        let nmb=0;\r\n\t\tconst xLineCount = Math.floor(gridSize.x / tileSize) + 1; \r\n\t\tconst yLineCount = Math.floor(gridSize.y / tileSize) + 1;\r\n\t\tconst zLineCount = Math.floor(gridSize.z / tileSize) + 1;\r\n\t\tfor (let zee = 0; zee< zLineCount; zee++){\r\n            for (let i = 0; i < xLineCount; i++) {\r\n                nmb++;\r\n                this.grid.push(this.drawLine(\r\n                    toVector(\r\n                        pos.x + i * tileSize,\r\n                        pos.y,\r\n                        pos.z+zee*tileSize\t\r\n                    ),\r\n                    toVector(\r\n                        pos.x + i * tileSize,\r\n                        gridSize.y + pos.y,\r\n                        pos.z+zee*tileSize\t\r\n                    )\r\n                ));\r\n            }\r\n            for (let i = 0; i < yLineCount; i++) {\r\n                nmb++;\r\n                this.grid.push(this.drawLine(\r\n                    toVector(\r\n                        pos.x,\r\n                        pos.y + i * tileSize,\r\n                        pos.z+zee*tileSize\t\r\n                    ),\r\n                    toVector(\r\n                        gridSize.x + pos.x,\r\n                        pos.y + i * tileSize,\r\n                        pos.z+zee*tileSize\t\r\n                    )\r\n                ));\r\n            }\r\n\t    }\r\n    for (let x = 0; x < xLineCount; x++) {\r\n        for (let y = 0; y < yLineCount; y++) {\r\n            nmb++;\r\n            this.grid.push(this.drawLine(\r\n\t\t\t\ttoVector(\r\n\t\t\t\t\tpos.x + x * tileSize,\r\n\t\t\t\t\tpos.y + y * tileSize,\r\n\t\t\t\t\tpos.z\t\r\n\t\t\t\t),\r\n\t\t\t\ttoVector(\r\n\t\t\t\t\tpos.x + x * tileSize,\r\n\t\t\t\t\tpos.y + y * tileSize,\r\n\t\t\t\t\tpos.z+gridSize.z\r\n\t\t\t\t)\r\n\t\t\t));\r\n        }\r\n    }\r\n    return nmb;\r\n\t}\r\n\r\n    setMainGrid(wallWidth) {\r\n        this.drawGrid(\r\n            10, \r\n            toVector(this.size.x, this.size.y, 0), \r\n            toVector(wallWidth, wallWidth, wallWidth)\r\n        );\r\n        this.drawGrid(\r\n            10, \r\n            toVector(0, this.size.y, this.size.z), \r\n            toVector(wallWidth, wallWidth, wallWidth)\r\n        );\r\n        this.drawGrid(\r\n            10, \r\n            toVector(0, this.size.y, this.size.z), \r\n            toVector(wallWidth + this.size.x, wallWidth, wallWidth)\r\n        );\r\n        this.drawGrid(\r\n            10, \r\n            toVector(this.size.x, 0, this.size.z), \r\n            toVector(wallWidth, wallWidth, wallWidth)\r\n        );\r\n        this.drawGrid(\r\n            10, \r\n            toVector(this.size.x, 0, this.size.z), \r\n            toVector(wallWidth, wallWidth + this.size.y, wallWidth)\r\n        );\r\n    }\r\n\r\n    // Загрузка внешней модели\r\n    drawModel(src, sizeVector, posVector, rotation, options, dbID) {\r\n         // Создаем новый экземпляр класса \"Model\", в качестве родителя указав комнату\r\n        const model = new Model(src, this); \r\n        // Если в качестве аргумента \"src\" указан другой экземпляр \"Model\", то\r\n        // Считается, что происходит копирование уже загруженной модели\r\n        if (src instanceof Model) {\r\n                model.clone(src); // Копируем его\r\n                // И инициализируем с новыми параметрами\r\n                model.init(src, sizeVector, posVector, rotation, options, dbID);\r\n                this.models.push(model); // Добавляем модель в массив \"модели\"\r\n                // Добавляем все части модели, предназначенные для отрисовки, в массив \"объекты\"\r\n                this.objects.push(model.obj); // Непосредственно объект\r\n                // Куб для взаимодействия с моделью при помощи мыши\r\n                this.objects.push(model.interactionCube); \r\n                this.objects.push(model.hightlight); // Подсветка модели\r\n                return model; // Возвращаем модель\r\n        } else {\r\n            // Если же в качестве аргумента \"src\" указан путь к внешнему файлу, то\r\n            // Возвращаем асинхронный объект конструкции Promise\r\n            return new Promise(resolve => { \r\n                // Ждем, пока модель загрузится из внешнего файла, а затем\r\n                model.load().then(() => { \r\n                    // Инициализация\r\n                    model.init(null, sizeVector, posVector, rotation, options, dbID);\r\n                    this.models.push(model); // Добавляем модель в массив \"модели\"\r\n                    // Добавляем все части модели, предназначенные для отрисовки, в массив \"объекты\"\r\n                    this.objects.push(model.obj); // Непосредственно объект\r\n                    // Куб для взаимодействия с моделью при помощи мыши\r\n                    this.objects.push(model.interactionCube);\r\n                    this.objects.push(model.hightlight); // Подсветка модели\r\n                    resolve(model); // Возвращаем модель\r\n                })\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default Room;\r\n","import Room from './Room';\r\n\r\nclass InfoModel {\r\n    constructor(scene, camera, renderer) {\r\n        this.structures = [];\r\n        this.objects = [];\r\n        this.models = [];\r\n        this.scene = scene;\r\n        this.camera = camera;\r\n        this.current = null;\r\n        this.renderer = renderer;\r\n        this.target = null;\r\n    }\r\n\r\n    createRoom(sizeVector, posVector, wallThick, color, opacity, params) {\r\n        const room = new Room(sizeVector, posVector, wallThick, color, opacity, params);\r\n        this.rooms.push(room);\r\n        return room;\r\n    }\r\n\r\n    selectStructure(struct) {\r\n        // Получаем объекты, сгенерированные скриптом\r\n        this.objects.push(...struct.getObjects()); \r\n        // Если были загружены внешние модели, переносим их в отдельный массив\r\n        if (struct.models) this.models.push(...struct.models);\r\n        this.current = struct; // Указываем активную структуру\r\n    }\r\n\r\n    hideModelsHightlights(room) {\r\n        room.models.forEach(model => {\r\n            model.hideHightlight();\r\n        })\r\n    }\r\n\r\n    setCamera(x, y, z) {\r\n        this.camera.position.set(x, y, z)\r\n    }\r\n\r\n    addToScene() {\r\n        this.objects.forEach(obj => {\r\n            this.scene.add(obj);\r\n        })\r\n    }\r\n\r\n    clearScene() {\r\n        this.objects = [];\r\n        this.scene.clear();\r\n    }\r\n}\r\n\r\nexport default InfoModel;","import Structure from './Structure';\r\n\r\nclass Building extends Structure {\r\n    constructor(sizeVector, posVector, color, opacity, options) {\r\n        super(sizeVector, posVector, color, opacity, options);\r\n\r\n        this.box = this.drawBox(sizeVector, posVector, color, opacity);\r\n        this.objects.push(this.box);\r\n\r\n        this.windowsCount1 = this.options.windowsCount1 ?? 0;\r\n        this.windowsCount2 = this.options.windowsCount2 ?? 0;\r\n        this.windowsCount3 = this.options.windowsCount3 ?? 0;\r\n        this.windowsCount4 = this.options.windowsCount4 ?? 0;\r\n\r\n        this.windowWidth = this.options.windowWidth ?? ((this.size.x > this.size.y) ? this.size.y / 4 : this.size.x / 4);\r\n        this.windowHeight = this.options.windowHeight ?? this.size.z / 1.5;\r\n        this.windowsTop = this.options.windowsTop ?? 0;\r\n\r\n        this.drawBuildingWindows(this.windowsCount1, 1);\r\n        this.drawBuildingWindows(this.windowsCount2, 2);\r\n        this.drawBuildingWindows(this.windowsCount3, 3);\r\n        this.drawBuildingWindows(this.windowsCount4, 4);\r\n\r\n        this.outline = [this.box, this.windows, this.doors];\r\n\r\n        if (this.events) {\r\n            this.setHighlight();\r\n            this.setInteraction();\r\n            for (let eventName in this.events) {\r\n                let handler = this.events[eventName];\r\n                if (handler) {\r\n                    this.interactionCube.cursor = 'pointer';\r\n                    this.interactionCube.on(eventName, (event) => handler(event));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    drawBuildingWindows(count, wallID) {\r\n        let between;\r\n        if (wallID === 1 || wallID === 3) {\r\n            between = (this.size.y - count * this.windowWidth) / (count + 1);\r\n        } else if (wallID === 2 || wallID === 4) {\r\n            between = (this.size.x - count * this.windowWidth) / (count + 1);\r\n        } else {\r\n            console.error('wrong wallID value');\r\n            return undefined;\r\n        }\r\n        \r\n        const pos = between;\r\n        for (let i = 0; i < count; i++) {\r\n            this.drawWindow(this.windowWidth, this.windowHeight, pos + i * (between + this.windowWidth), (this.size.z / 2) - (this.windowHeight / 2) + this.windowsTop, wallID);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Building","import Room from './Room';\r\nimport Model from './Model';\r\nimport {toVector, toStructure} from './Structure';\r\nimport {showModelInformation, showFloorInformation, showRoomInformation} from '../WebGLGetData';\r\nimport Building from './Building';\r\nimport {infoModel} from './init';\r\n\r\n//Script\r\nfunction scriptInit(name) {\r\n    return new Promise(resolve => {\r\n        console.log(infoModel.structures);\r\n        const cached = infoModel.structures.find(struct => struct.src === name);\r\n        console.log(cached); \r\n        if (!cached) {\r\n            fetch('ajax/scriptLoader.php', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n                },\r\n                body: \"file=\" + name\r\n            }).then(res => res.text()).then(res => {\r\n                    // eslint-disable-next-line\r\n                    const script = Function(res)();\r\n                    const args = getArgs(script);\r\n                    const deps = args.map(arg => {\r\n                        switch (arg) {\r\n                            case 'Room': return Room;\r\n                            case 'Building': return Building;\r\n                            case 'toVector': return toVector;\r\n                            case 'showModelInformation': return showModelInformation;\r\n                            case 'showFloorInformation': return showFloorInformation;\r\n                            case 'showRoomInformation': return showRoomInformation;\r\n                            case 'infoModel': return infoModel;\r\n                            case 'toStructure': return toStructure;\r\n                            case 'Model': return Model;\r\n                            default: return null;\r\n                        }\r\n                    })        \r\n                    script(...deps).then(res => {\r\n                        infoModel.structures.push(res);\r\n                        res.prev = infoModel.current;\r\n                        res.src = name;\r\n                        resolve(res)\r\n                    });\r\n            })\r\n        } else {\r\n            console.log('cached');\r\n            cached.src = name;\r\n            resolve(cached);\r\n        }\r\n    }) \r\n}\r\n\r\nfunction getArgs(func) {\r\n    var args = func.toString().match(/function\\s.*?\\(([^)]*)\\)/)[1];\r\n    return args.split(',').map(function(arg) {\r\n      return arg.replace(/\\/\\*.*\\*\\//, '').trim();\r\n    }).filter(function(arg) {\r\n      return arg;\r\n    });\r\n  }\r\n\r\nexport default scriptInit;","import * as dat from 'dat.gui';\r\nimport myRoom from './scriptInit';\r\n\r\nconst GUIControls = {\r\n    showGrid: false,\r\n    showHightlight: false\r\n}\r\n\r\nfunction GUIInit() {\r\n    const container = document.getElementById('GUI-Container');\r\n    const gui = new dat.GUI({autoPlace: false, closeOnTop: true});\r\n    gui.close();\r\n    const controllerGrid = gui.add(GUIControls, 'showGrid', false);\r\n    const controllerHightlight = gui.add(GUIControls, 'showHightlight', false);\r\n    container.appendChild(gui.domElement);\r\n\r\n    controllerGrid.onChange((state) => {\r\n        myRoom.grid.forEach(line => line.visible = state);\r\n    })\r\n\r\n    controllerHightlight.onChange((state) => {\r\n        myRoom.models.forEach(model => state ? model.showHightlight() : model.hideHightlight());\r\n    })\r\n\r\n}\r\n\r\nexport default GUIControls;\r\nexport {GUIInit}","import * as THREE from 'three';\r\nimport {Interaction} from 'three.interaction';\r\nimport InfoModel from './InfoModel';\r\nimport {OrbitControls} from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport {GUIInit} from './GUI';\r\n\r\nconst cameraZoom = 200\r\n\r\nlet infoModel;\r\nlet container;\r\nlet SCENE;\r\nlet CAMERA;\r\nlet RENDERER;\r\nlet CONTROLS;\r\n\r\nfunction init() {\r\n    sceneInit();\r\n    console.log(SCENE);\r\n    infoModel = new InfoModel(SCENE, CAMERA, RENDERER);\r\n    new Interaction(RENDERER, SCENE, CAMERA);\r\n    setOrbitControls();\r\n    GUIInit();\r\n}   \r\n\r\n//Подготовка сцены\r\nfunction sceneInit() {\r\n    container = document.getElementById('WebGL-Output');\r\n    const sceneWidth = container.offsetWidth ;\r\n    const sceneHeight = window.innerHeight / (window.innerWidth / sceneWidth);\r\n    SCENE = new THREE.Scene();\r\n    CAMERA = new THREE.PerspectiveCamera(45, sceneWidth / sceneHeight , 0.1, 1000);\r\n    CAMERA.position.set(cameraZoom, cameraZoom, cameraZoom);\r\n    RENDERER = new THREE.WebGLRenderer();\r\n    RENDERER.setClearColor(0xEEEEEE, 1);\r\n    RENDERER.setSize(sceneWidth, sceneHeight);\r\n}\r\n\r\n//Добавление возможности вращения/приближения камеры\r\nfunction setOrbitControls() {\r\n    CONTROLS = new OrbitControls(CAMERA, container);\r\n    CONTROLS.update();\r\n    CONTROLS.autoRotateSpeed = 1;\r\n    CONTROLS.autoRotate = true;\r\n    CONTROLS.enableRotate = false;\r\n    CONTROLS.enableZoom = false;\r\n}\r\n\r\nexport default init;\r\nexport {infoModel, container, SCENE, CAMERA, RENDERER, CONTROLS}","import * as THREE from 'three';\r\nimport {vectorToArr} from './Structure';\r\nimport init, {infoModel, container, SCENE, CAMERA, RENDERER, CONTROLS} from './init';\r\nimport scriptInit from './scriptInit';\r\n \r\nfunction createScene() {\r\n    init();\r\n    container.appendChild(RENDERER.domElement);\r\n    animate();    \r\n}\r\n \r\nasync function chooseScene(sceneFileName) { // Функция для выбора структуры\r\n    infoModel.clearScene(); // Очищаем сцену\r\n    initLights(); // Создаем источники света\r\n    // С сервера запрашивается скрипт той или иной модели\r\n    const struct = await scriptInit(sceneFileName);  \r\n    infoModel.selectStructure(struct); // Исполняем скрипт\r\n    // Находим в DOM кнопку возвращения, скрытую по умолчанию\r\n    const returnButton = document.getElementById('returnButton');\r\n    // Если это скрипт комнаты или этажа, показываем кнопку возвращения\r\n    infoModel.current.prev ? returnButton.classList.remove('none') \r\n    : returnButton.classList.add('none');\r\n    infoModel.setCamera(250, 250, 250); // Устанавливаем камеру\r\n    infoModel.addToScene(); // Отрисовываем модель\r\n}\r\n\r\nfunction initLights() {\r\n    const ambient = new THREE.AmbientLight(0xffffff, 0.7);\r\n    SCENE.add(ambient);\r\n\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff);\r\n    directionalLight.position.set(0, 1, 1);\r\n    SCENE.add(directionalLight);\r\n}\r\n\r\n//Создание осей\r\nfunction axesInit() {\r\n    const axes = new THREE.AxesHelper(200);\r\n    SCENE.add(axes);\r\n}\r\n\r\nfunction render() {\r\n    if (infoModel.current) {\r\n        CAMERA.lookAt(...vectorToArr(infoModel.current.center));\r\n    } else {\r\n        CAMERA.lookAt(0, 0, 0);\r\n    }\r\n    \r\n    RENDERER.render(SCENE, CAMERA);\r\n}\r\n    \r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n    CONTROLS.update();\r\n    render();\r\n}\r\n\r\nfunction enableOrbitControls() {\r\n    CONTROLS.autoRotate = false;\r\n    CONTROLS.enableRotate = true;\r\n    CONTROLS.enableZoom = true;\r\n}\r\n\r\nfunction rendererResize() {\r\n    const sceneWidth = container.offsetWidth ;\r\n    const sceneHeight = window.innerHeight / (window.innerWidth / sceneWidth);\r\n    RENDERER.setSize(sceneWidth, sceneHeight);\r\n}\r\n\r\nexport default chooseScene;\r\nexport {createScene, enableOrbitControls, rendererResize};\r\n","import {useRef} from 'react';\r\nimport \"./WebGLInformation.css\";\r\nimport WebGLGetData from \"./WebGLGetData\";\r\nimport {infoModel} from './three/init';\r\nimport chooseScene from './three/main';\r\n\r\nfunction WebGLInformation() {\r\n    const info = useRef(null);\r\n    const setScene = () => {\r\n        closeInfo(info.current);\r\n        chooseScene(infoModel.target.src);\r\n    }\r\n    return(\r\n        <div id=\"WebGL-info\" className=\"webgl__info none\" ref={info}>\r\n            <button type=\"button\" className=\"webgl__info__close\" onClick={() => closeInfo(info.current)}></button>\r\n            <WebGLGetData setScene={setScene}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction closeInfo(info) {\r\n    info.classList.add('none');\r\n    console.log(infoModel);\r\n    infoModel.current.models.forEach(model => model.hideHightlight());\r\n    infoModel.current.linkPoints.forEach(point => point.material.color.set(0x005000));\r\n}\r\n\r\nexport default WebGLInformation;\r\nexport {closeInfo};\r\n","import {Spinner, ListGroup} from 'react-bootstrap';\r\n\r\nfunction WebGLSearchResultList(props) {\r\n\r\n    function selectItem(event, id) {\r\n        console.log(id);\r\n        console.log(event);\r\n    }\r\n\r\n    if (props.children === null) {\r\n        return(\r\n            <ListGroup.Item>\r\n                <Spinner animation=\"border\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n            </ListGroup.Item>\r\n        );\r\n    } else {\r\n        const list = props.children.map((item, i) => {\r\n            const dbID = item.shift();\r\n            const text = item.join(' ');\r\n            return (\r\n                <ListGroup.Item as='button' eventKey={dbID} key={i} onClick={(ev, id) => selectItem(ev, id)}>\r\n                    {text}\r\n                </ListGroup.Item>\r\n            );\r\n        });\r\n        console.log(list);\r\n        if (list.length === 0) {\r\n            return(\r\n                <ListGroup>\r\n                    <ListGroup.Item>Ничего не найдено</ListGroup.Item>\r\n                </ListGroup>\r\n            );\r\n        } else {\r\n            return(\r\n                <ListGroup>\r\n                    {list}\r\n                </ListGroup>\r\n            );\r\n        }\r\n    }  \r\n}\r\n\r\nexport default WebGLSearchResultList;","import React, {useState, useRef} from 'react';\r\nimport './WebGLSearchInput.css';\r\nimport {DropdownButton, Dropdown} from 'react-bootstrap';\r\nimport WebGLSearchResultList from './WebGLSearchResultList';\r\n\r\nconst WebGLSearchInput = React.forwardRef((props, ref) => {\r\n\r\n    const [title, setTitle] = useState('Что ищем?');\r\n    const [table, setTable] = useState(null);\r\n    const [resultItems, setResultItems] = useState(null);\r\n\r\n    const input = useRef(null);\r\n    const resultList = useRef(null);\r\n\r\n    const selectItem = (key, event) => {\r\n        input.current.value = '';\r\n        resultList.current.classList.add('none');\r\n        setTitle(event.target.innerText);\r\n        setTable(key);\r\n    }\r\n\r\n    const searchData = (event, table) => {\r\n        setResultItems(null);\r\n        const req = event.target.value;\r\n        if (req === '') {\r\n            resultList.current.classList.add('none');\r\n        } else {\r\n            resultList.current.classList.remove('none');\r\n            fetch('ajax/search.php', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n                },\r\n                body: `req=${req}&table=${table}` \r\n            }).then(res => {console.log(res); return res.json()})\r\n            .then(res => {\r\n                console.log(res);\r\n                setResultItems(res);\r\n            }); \r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"webgl-search__input-container\" ref={ref} id=\"WebGl-inputContainer\">\r\n            <DropdownButton\r\n                drop={'up'}\r\n                variant=\"secondary\"\r\n                title={title}\r\n                className=\"webgl-search__dropdown\"\r\n            >\r\n                <Dropdown.Item eventKey=\"dvigateli\" onSelect={(k, e) => selectItem(k, e)}>Двигатели</Dropdown.Item>\r\n                <Dropdown.Item eventKey=\"shitki\" onSelect={(k, e) => selectItem(k, e)}>Щиты</Dropdown.Item>\r\n                <Dropdown.Item eventKey=\"puskateli\" onSelect={(k, e) => selectItem(k, e)}>Пускатели</Dropdown.Item>\r\n                <Dropdown.Item eventKey=\"rele\" onSelect={(k, e) => selectItem(k, e)}>Реле</Dropdown.Item>\r\n            </DropdownButton>\r\n            <div className=\"webgl-search__input-inner\">\r\n                <div id=\"webgl-resultList\" className=\"webgl-search__result-list none\" ref={resultList}>\r\n                    <WebGLSearchResultList>{resultItems}</WebGLSearchResultList>\r\n                </div>\r\n                <input type=\"text\" id=\"WebGl-input\" className=\"h6 webgl-search__input\" placeholder=\"Поиск...\" ref={input} onInput={(event) => searchData(event, table)}></input>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\nexport default WebGLSearchInput;","import './WebGLSearch.css';\r\nimport React, {useRef} from 'react';\r\nimport {closeInfo} from './WebGLInformation';\r\nimport WebGLSearchInput from './WebGLSearchInput';\r\n\r\nlet isOpen = false;\r\n\r\nconst WebGLSearch = React.forwardRef((props, ref) => {\r\n    const button = useRef(null);\r\n    const input = useRef(null);\r\n    const searchIcon = useRef(null);\r\n    const closeIcon = useRef(null);\r\n\r\n    // document.addEventListener('click', (event) => {\r\n    //     const target = event.target;\r\n    //     console.log(target);\r\n    //     if (!target.closest('#WebGL-search') && !target.closest('#WebGL-fullscreen')) closeSearch(ref.current);\r\n    // }, false);\r\n\r\n    const toggleSearch = () => {\r\n        if (!isOpen) {\r\n            searchIcon.current.classList.add('none');\r\n            closeIcon.current.classList.remove('none');\r\n            button.current.classList.add('webgl-search__button--opened');\r\n            input.current.classList.add('webgl-search__input-container--opened');\r\n            input.current.focus();\r\n            const info = document.getElementById('WebGL-info');\r\n            closeInfo(info);\r\n            isOpen = true;\r\n        } else {\r\n            closeSearch(ref.current);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div ref={ref} className=\"webgl-search__container none\" id=\"WebGL-search\">\r\n            <button type='button'  className=\"webgl-search__button webgl__button\" ref={button} onClick={toggleSearch}>\r\n                <i className=\"bi bi-search webgl__icon\" ref={searchIcon}></i>\r\n                <i className=\"bi bi-x webgl__icon none\" ref={closeIcon}></i>\r\n            </button>\r\n            <WebGLSearchInput ref={input}/>\r\n        </div>\r\n    );\r\n}) \r\n\r\nfunction closeSearch(searchBlock) {\r\n    const button = searchBlock.getElementsByTagName('button');\r\n    const inputContainer = document.getElementById('WebGl-inputContainer');\r\n    const input = document.getElementById('WebGl-input');\r\n    const resultList = document.getElementById('webgl-resultList');\r\n    const searchIcon = searchBlock.getElementsByClassName('bi-search');\r\n    const closeIcon = searchBlock.getElementsByClassName('bi-x');\r\n\r\n    searchIcon[0].classList.remove('none');\r\n    closeIcon[0].classList.add('none');\r\n\r\n    button[0].classList.remove('webgl-search__button--opened');\r\n    inputContainer.classList.remove('webgl-search__input-container--opened');\r\n\r\n    resultList.classList.add('none');\r\n    input.value = '';\r\n\r\n    isOpen = false;\r\n}\r\n    \r\nexport default WebGLSearch;","import './WebGLReturnButton.css';\r\nimport './index.css';\r\nimport {infoModel} from './three/init';\r\nimport changeScene from './three/main';\r\nimport {closeInfo} from './WebGLInformation';\r\n\r\n\r\nfunction WebGLReturnButton() {\r\n    function goBack() {\r\n        if (infoModel.current.prev) {\r\n            const info = document.getElementById('WebGL-info');\r\n            closeInfo(info);\r\n            changeScene(infoModel.current.prev.src);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <button className=\"webgl__return-button none\" id=\"returnButton\" onClick={goBack}>\r\n            <i className=\"bi bi-box-arrow-in-left webgl__return-icon\"></i>\r\n            <h5 className=\"webgl__return-caption\">Вернуться</h5>\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default WebGLReturnButton;","import {useEffect, useRef} from 'react';\r\nimport chooseScene, {createScene, enableOrbitControls, rendererResize} from './three/main';\r\nimport WebGLInformation from './WebGLInformation';\r\nimport WebGLSearch from './WebGLSearch';\r\nimport WebGLReturnButton from './WebGLReturnButton';\r\nimport './WebGLOutput.css'\r\n\r\nfunction WebGLOutput() { // Компонент с 3D-моделью\r\n    // Эта функция вызовется после отрисовки компонента\r\n    useEffect(() => {\r\n        createScene(); // Инициализация сцены\r\n        chooseScene('main.js'); // Выбор комнаты\r\n    });\r\n    // Ссылки на HTML-элементы\r\n    const container = useRef(null);\r\n    const blackout = useRef(null);\r\n    const iconOpen = useRef(null);\r\n    const iconClose = useRef(null); \r\n    const search = useRef(null);\r\n    // Функция запуска сцены\r\n    const start = (event) => {\r\n        blackout.current.classList.add('none'); // Скрытие затемнения\r\n        event.target.classList.add('none'); // Скрытие кнопки \"Пуск\"\r\n        search.current.classList.remove('none'); // Показ кнопки поиска\r\n        enableOrbitControls(); // Вкл. управления камерой с помощью мыши \r\n    }\r\n\r\n    let isFullScreen = false; // Переменная, отвечающая за вкл/выкл полноэкранного режима\r\n    // Функция вкл/выкл полноэкранного режима\r\n    const toggleFullscreen = () => {\r\n        if (!isFullScreen) { // Если полноэкранный режим выкл. то включит его\r\n            container.current.classList.add('fullscreen'); // Изменяем масштаб контейнера со сценой\r\n            iconOpen.current.classList.add('none'); // Меняем иконку на кнопке\r\n            iconClose.current.classList.remove('none');\r\n        } else {\r\n            container.current.classList.remove('fullscreen'); // Изменяем масштаб контейнера со сценой\r\n            iconOpen.current.classList.remove('none'); // Меняем иконку на кнопке\r\n            iconClose.current.classList.add('none');\r\n        }\r\n        rendererResize(); // Изменяем масштаб сцены\r\n        isFullScreen = !isFullScreen; // Переключаем переменную\r\n    }\r\n    // Возвращаем HTML\r\n    return(\r\n        <div className=\"webgl__container\" ref={container}> {/*Контейнер со сценой*/}\r\n            <div id=\"WebGL-Output\" className=\"webgl__output\"> </div> {/*Сцена*/}\r\n            <div id='GUI-Container' className=\"gui__container\"></div> {/*Окно с настройкой*/}\r\n            <div className='webgl__blackout' ref={blackout}></div> {/*Затемнение*/}\r\n            <button type='button' className=\"webgl__start\" onClick={event => start(event)}></button> {/*Кнопка \"Пуск\"*/}\r\n            {/*Кнопка перехода(выхода) в полноэкранный режим*/}\r\n            <button type='button' id=\"WebGL-fullscreen\" className=\"webgl__button webgl__fullscreen\" onClick={toggleFullscreen}> \r\n                <i className=\"bi bi-arrows-angle-expand webgl__icon\" ref={iconOpen}></i> {/*Иконка \"Открыть полноэкранный режим\"*/}\r\n                <i className=\"bi bi-arrows-angle-contract webgl__icon none\" ref={iconClose}></i> {/*Иконка \"Закрыть полноэкранный режим\"*/}\r\n            </button>\r\n            <WebGLSearch ref={search}/> {/*Меню поиска*/}\r\n            <WebGLReturnButton />\r\n            <WebGLInformation /> {/* Карточка оборудования */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default WebGLOutput\r\n\r\n","import './DataBaseTable.css';\r\nimport {Table} from 'react-bootstrap';\r\n\r\nfunction DataBaseTable(props) {\r\n    // Извлекаем наименования столбцов, содержащиеся в 0-ом элементе массива data\r\n    // и оборачиваем их в тег <th> \r\n    const thread = props.data[0].map((heading, i) =><th key={i}>{heading}</th>);\r\n    const tbody = [];\r\n    // Проходимся по остальным элементам массива data \r\n    for (let i = 1; i < props.data.length; i++) {\r\n        // Каждое отдельное значение оборачиваем в тег <td>\r\n        const tr = props.data[i].map((item, i) =><td key={i}>{item}</td>);\r\n        // А группу этих значений в тег <tr>\r\n        tbody.push(<tr key={tbody.length}>{tr}</tr>);\r\n    }\r\n    console.log(thread);\r\n    return(\r\n        <div className=\"db-menu__table\">\r\n            <Table striped bordered hover className=\"db-table\">\r\n                <thead>\r\n                    <tr>\r\n                        {thread} {/*Наименования столбцов*/}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {tbody} {/*Непосредственно содержимое таблицы*/}\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DataBaseTable;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction ZdaniyaForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ZdaniyaForm;","import {setRow, SetInput, SetTextarea} from './DataBaseEditForm';\r\nimport {useState, useEffect} from 'react';\r\n\r\nfunction RoomsForm(props) {\r\n    const [data, setData] = useState([[]]);\r\n\r\n    useEffect(()=>{\r\n        fetch('ajax/columnData.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `table=rooms`\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            setData(res);\r\n        });\r\n    }, []);\r\n\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n                <SetInput caption=\"Здание\" data={data[0]} />\r\n                <SetTextarea caption=\"Описание\"/>\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n                <SetInput caption=\"Здание\" data={data[0]} />\r\n                <SetTextarea caption=\"Описание\"/>\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RoomsForm;","import {setRow, SetInput} from './DataBaseEditForm';\r\nimport {useState, useEffect} from 'react';\r\n\r\nfunction MotorsForm(props) {\r\n    const [data, setData] = useState([[]]);\r\n\r\n    useEffect(()=>{\r\n        fetch('ajax/columnData.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `table=dvigateli`\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            setData(res);\r\n        });\r\n    }, []);\r\n\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Модель')}\r\n                {setRow('Мощность')}\r\n                {setRow('Об/Мин')}\r\n                {setRow('КПД')}\r\n                {setRow('cos u')}\r\n                {setRow('Год выпуска')}\r\n                {setRow('Обозначение')}\r\n                <SetInput caption='Щит' data={data[0]} />\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Модель')}\r\n                {setRow('Мощность')}\r\n                {setRow('Об/Мин')}\r\n                {setRow('КПД')}\r\n                {setRow('cos u')}\r\n                {setRow('Год выпуска')}\r\n                {setRow('Обозначение')}\r\n                <SetInput caption='Щит' data={data[0]} />\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MotorsForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction ShitkiForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShitkiForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction PuskateliForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PuskateliForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction VikluchateliForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default VikluchateliForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction ReleForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReleForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction KluchiForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default KluchiForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction LampiForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LampiForm;","import {setRow} from './DataBaseEditForm';\r\n\r\nfunction KnopkiForm(props) {\r\n    if (props.action === 'Insert') {\r\n        return(\r\n            <>\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Update') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n                {setRow('Обозначение')}\r\n            </>\r\n        );\r\n    } else if (props.action === 'Delete') {\r\n        return(\r\n            <>\r\n                {setRow('id')}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default KnopkiForm;","import './DataBaseEditForm';\r\nimport {Dropdown} from 'react-bootstrap';\r\nimport ZdaniyaForm from './ZdaniyaForm';\r\nimport RoomsForm from './RoomsForm';\r\nimport MotorsForm from './MotorsForm';\r\nimport ShitkiForm from './ShitkiForm';\r\nimport PuskateliForm from './PuskateliForm';\r\nimport VikluchateliForm from './VikluchateliForm';\r\nimport ReleForm from './ReleForm';\r\nimport KluchiForm from './KluchiForm';\r\nimport LampiForm from './LampiForm';\r\nimport KnopkiForm from './KnopkiForm';\r\nimport { useState } from 'react';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nfunction DataBaseEditForm(props) {\r\n    let result;\r\n    switch (props.table) { // Выбираем нужные поля ввода взависимости от выбранной таблицы\r\n        case 'Здания': result = <ZdaniyaForm action={props.action} />; break;\r\n        case 'Комнаты': result = <RoomsForm action={props.action} />; break;\r\n        case 'Электродвигатели': result = <MotorsForm action={props.action}/>; break;\r\n        case 'Щиты': result = <ShitkiForm action={props.action}/>; break;\r\n        case 'Пускатели': result = <PuskateliForm action={props.action}/>; break;\r\n        case 'Автовыключатели': result = <VikluchateliForm action={props.action}/>; break;\r\n        case 'Реле': result = <ReleForm action={props.action}/>; break;\r\n        case 'Ключи': result = <KluchiForm action={props.action}/>; break;\r\n        case 'Лампы': result = <LampiForm action={props.action}/>; break;\r\n        case 'Кнопки': result = <KnopkiForm action={props.action}/>; break;\r\n    }\r\n    // Если выбрана вкладка \"Добавить\", то возвращаем поля ввода и кнопку для добавления данных\r\n    if (props.action === 'Insert') { \r\n        return(\r\n                <>\r\n                    {result} {/*Поля ввода*/}\r\n                    <button type=\"button\" className=\"db-menu__button\" onClick={insertData}> \r\n                        <h3>Добавить</h3>\r\n                    </button>\r\n                </>\r\n        );\r\n    }\r\n    // Если выбрана вкладка \"Изменить\", то возвращаем поля ввода и кнопку для изменения данных\r\n    if (props.action === 'Update') { \r\n        return(\r\n                <>\r\n                    {result} {/*Поля ввода*/}\r\n                    <button type=\"button\" className=\"db-menu__button\" onClick={updateData}> \r\n                        <h3>Изменить</h3>\r\n                    </button>\r\n                </>\r\n        );\r\n    }\r\n    // Если выбрана вкладка \"Удалить\", то возвращаем поля ввода и кнопку для удаления данных\r\n    if (props.action === 'Delete') { \r\n        return(\r\n                <>\r\n                    {result} {/*Поля ввода*/}\r\n                    <button type=\"button\" className=\"db-menu__button\" onClick={deleteData}> \r\n                        <h3>Удалить</h3>\r\n                    </button>\r\n                </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction setRow(caption) {\r\n    return (\r\n        <div className=\"db-menu__row\">\r\n            <h5>{caption}</h5>\r\n            <input type=\"text\" className=\"db-menu__input form-control\"></input>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SetInput(props) {\r\n    const items = props.data.map((item, i) => <Dropdown.Item key={i} eventKey={item} onSelect={(value) => setCaption(value)}>{item}</Dropdown.Item>);\r\n    const [caption, setCaption] = useState(props.data[0]);\r\n\r\n    return(\r\n        <div className=\"db-menu__row\">\r\n            <h5>{props.caption}</h5>\r\n            <Dropdown className=\"db-dropdown db-menu__input\">\r\n                <Dropdown.Toggle id=\"dropdown-basic\">\r\n                    {caption}\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu>\r\n                    {items}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SetTextarea(props) {\r\n    return(\r\n        <Form.Group className=\"mb-3 db-menu__input\" controlId=\"ControlTextarea1\">\r\n            <Form.Label><h5>{props.caption}</h5></Form.Label>\r\n            <Form.Control as=\"textarea\" rows={3} />\r\n        </Form.Group>\r\n    );\r\n}\r\n\r\nfunction insertData() {\r\n\r\n}\r\n\r\nfunction updateData() {\r\n\r\n}\r\n\r\nfunction deleteData() {\r\n\r\n}\r\n\r\n\r\n\r\nexport default DataBaseEditForm;\r\nexport {setRow, SetInput, SetTextarea}","import './DataBaseEdit.css';\r\nimport DataBaseEditForm from './forms/DataBaseEditForm';\r\nimport {Nav} from 'react-bootstrap';\r\nimport {useState} from 'react';\r\n\r\nfunction DataBaseEdit(props) {\r\n    const [action, setAction] = useState(\"Insert\");\r\n\r\n    if (props.table !== 'Оборудование') {\r\n        return(\r\n            <div className=\"db-menu__edit\">\r\n                <Nav variant=\"tabs\" defaultActiveKey=\"Insert\">\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey=\"Insert\" onSelect={(val) => setAction(val)}>Добавить</Nav.Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey=\"Update\" onSelect={(val) => setAction(val)}>Изменить</Nav.Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Nav.Link eventKey=\"Delete\" onSelect={(val) => setAction(val)}>Удалить</Nav.Link>\r\n                    </Nav.Item>\r\n                </Nav>\r\n                <DataBaseEditForm table={props.table} action={action}/>\r\n            </div>\r\n        );\r\n    } else {\r\n        return(\r\n            <div className=\"db-menu__edit\">\r\n                <h4>Таблица только для чтения!</h4>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default DataBaseEdit","import './DataBaseMenu.css';\r\nimport DataBaseTable from './DataBaseTable';\r\nimport DataBaseEdit from './DataBaseEdit';\r\nimport {Dropdown} from 'react-bootstrap';\r\nimport {useState, useEffect} from 'react';\r\n\r\nfunction DataBaseMenu() {\r\n    const [table, setTable] = useState('Оборудование');\r\n    const [data, setData] = useState([[]]);\r\n\r\n    const getData = (val) => {\r\n        fetch('ajax/tableData.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `table=${val}`\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            setTable(val);\r\n            setData(res);\r\n        });\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getData('Оборудование');\r\n    }, []);\r\n\r\n    return (\r\n        <div className='db-menu'>\r\n<Dropdown className=\"db-dropdown\"> {/*Выпадающий список*/}\r\n    <Dropdown.Toggle id=\"dropdown-basic\"> {/*В закрытом состоянии*/}\r\n        {table} {/*Тут выводится название текущей таблицы*/}\r\n    </Dropdown.Toggle>\r\n\r\n    <Dropdown.Menu> {/*В открытом состоянии*/}\r\n        {/*Список элементов для выбора*/}\r\n        {/*Функция-обработчик getData отправляет запрос на сервер, val - имя таблицы*/}\r\n        <Dropdown.Item eventKey={'Оборудование'} onSelect={(val) => getData(val)}>\r\n            Оборудование</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Здания'} onSelect={(val) => getData(val)}>\r\n            Здания</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Комнаты'} onSelect={(val) => getData(val)}>\r\n            Комнаты</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Электродвигатели'} onSelect={(val) => getData(val)}>\r\n            Электродвигатели</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Щиты'} onSelect={(val) => getData(val)}>\r\n            Щиты</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Пускатели'} onSelect={(val) => getData(val)}>\r\n            Пускатели</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Автовыключатели'} onSelect={(val) => getData(val)}>\r\n            Автовыключатели</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Реле'} onSelect={(val) => getData(val)}>\r\n            Реле</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Ключи'} onSelect={(val) => getData(val)}>\r\n            Ключи</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Лампы'} onSelect={(val) => getData(val)}>\r\n            Лампы</Dropdown.Item>\r\n        <Dropdown.Item eventKey={'Кнопки'} onSelect={(val) => getData(val)}>\r\n            Кнопки</Dropdown.Item>\r\n    </Dropdown.Menu>\r\n</Dropdown>\r\n            \r\n            <div className='db-menu__inner'>\r\n                <DataBaseTable data={data}/>\r\n                <DataBaseEdit table={table}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DataBaseMenu;","import './AdminContent.css';\r\nimport WebGLOutput from './WebGLOutput';\r\nimport DataBaseMenu from './DataBaseMenu';\r\n\r\nfunction AdminContent(props) {\r\n    if (props.tab === 0) {\r\n        return(\r\n            <WebGLOutput />\r\n        );\r\n    } else if (props.tab === 1) {\r\n        return(\r\n            <DataBaseMenu />\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminContent;","import './AdminMenu.css';\r\nimport AdminContent from './AdminContent';\r\nimport {useState} from 'react';\r\nimport {Nav} from 'react-bootstrap';\r\n\r\nfunction AdminMenu() {\r\n    const [tab, setTab] = useState(0);\r\n\r\n    return(\r\n        <>\r\n            <Nav variant=\"tabs\" defaultActiveKey=\"link-1\">\r\n                <Nav.Item>\r\n                    <Nav.Link eventKey=\"link-1\" onSelect={() => setTab(0)}>3D-модель</Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                    <Nav.Link eventKey=\"link-2\" onSelect={() => setTab(1)}>Таблицы</Nav.Link>\r\n                </Nav.Item>\r\n            </Nav>\r\n            <AdminContent tab={tab}/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default AdminMenu;","import './InterfaceMenu.css';\r\nimport WebGLOutput from './WebGLOutput';\r\nimport AdminMenu from './AdminMenu';\r\n\r\nfunction InterfaceMenu(props) {\r\n    if (props.userInfo.default) {\r\n        return(\r\n            <WebGLOutput />\r\n        );\r\n    } else {\r\n        return(\r\n            <AdminMenu />\r\n        );\r\n    }\r\n}\r\n\r\nexport default InterfaceMenu;","import './Auth.css';\r\nimport {useState, useRef} from 'react';\r\nimport {Spinner} from 'react-bootstrap'; \r\n\r\nfunction Auth(props) {\r\n    const [isLoad, setIsLoad] = useState(true);\r\n\r\n    const usernameInput = useRef(null);\r\n    const passwordInput = useRef(null);\r\n    const err = useRef(null);\r\n\r\n    const login = () => {\r\n        const username = usernameInput.current.value;\r\n        const password = passwordInput.current.value;\r\n        setIsLoad(false);\r\n\r\n        fetch('ajax/login.php', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n        body: `username=${username}&password=${password}`\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            authHandle(res)\r\n        });\r\n    }\r\n\r\n    const authHandle = (data) => {\r\n        console.log(data);\r\n        setIsLoad(true);\r\n        if (data.isLogged) {\r\n            const userInfo = {\r\n                default: false,\r\n                name: data.name,\r\n                role: data.role\r\n            };\r\n            props.setUserInfo(userInfo);\r\n            props.setAuth(true);\r\n        } else {\r\n            err.current.classList.add('auth__err--show');\r\n            setTimeout(() => err.current.classList.remove('auth__err--show'), 2000)\r\n        }\r\n    }\r\n\r\n    if (isLoad) {\r\n        return(\r\n            <>\r\n                <div className=\"auth__row\">\r\n                    <h4>Логин</h4>\r\n                    <input type=\"username\" className=\"auth__input form-control\" ref={usernameInput}></input>\r\n                </div>\r\n                <div className=\"auth__row\">\r\n                    <h4>Пароль</h4>\r\n                    <input type=\"password\" className=\"form-control auth__input\" ref={passwordInput}></input>\r\n                </div>\r\n                <button type=\"button\" className=\"auth__button\" onClick={login}>\r\n                    <h4>Войти</h4>\r\n                </button>\r\n                <h6 className=\"auth__link\" onClick={() => props.setAuth(true)}>Войти как гость</h6>\r\n                <h6 className=\"auth__err\" ref={err}>Ошибка авторизации: Неверный логин или пароль</h6>\r\n            </>\r\n        );\r\n    } else {\r\n        return(\r\n            <div className=\"webgl__spinner\">\r\n                <Spinner animation=\"border\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n            </div>\r\n        );\r\n    } \r\n}\r\n\r\nexport default Auth","import './AuthContainer.css';\r\nimport Auth from './Auth';\r\n\r\nfunction AuthContainer(props) {\r\n    return(\r\n        <div className=\"auth__container\">\r\n            <h1 className=\"auth__caption\">Авторизация</h1>\r\n            <Auth setAuth={props.setAuth} setUserInfo={props.setUserInfo}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AuthContainer;","import './app.css';\r\nimport MainCaption from './MainCaption';\r\nimport InterfaceMenu from './InterfaceMenu';\r\nimport AuthContainer from './AuthContainer';\r\nimport {useState} from 'react';\r\n\r\nfunction App() {\r\n    const defaultUserInfo = {\r\n        default: true,\r\n        name: 'Гость',\r\n        role: 'User'\r\n    }\r\n\r\n    const [isAuth, setAuth] = useState(false);\r\n    const [userInfo, setUserInfo] = useState(defaultUserInfo);\r\n\r\n    if (isAuth) {\r\n        return (\r\n            <div className=\"container\">\r\n                <MainCaption />\r\n                <InterfaceMenu userInfo={userInfo}/>\r\n            </div>\r\n        );\r\n    } else {\r\n        return(\r\n            <AuthContainer setAuth={setAuth} setUserInfo={setUserInfo}/>\r\n        );\r\n    }\r\n}\r\n  \r\n  export default App;","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}