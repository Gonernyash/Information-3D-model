(this.webpackJsonprabkotaem=this.webpackJsonprabkotaem||[]).push([[0],{47:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),o=n(35),c=n.n(o),r=(n(47),n(13)),a=(n(61),n(62),n(0));var l=function(){return Object(a.jsx)("div",{className:"main__caption mx-auto",children:Object(a.jsx)("h1",{children:'\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f 3D-\u043c\u043e\u0434\u0435\u043b\u044c \u0442\u0435\u043f\u043b\u043e\u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u0443\u0441\u0430 \u0410\u041e "\u0413\u041d\u0426 \u0420\u0424 \u0424\u042d\u0418"'})})},h=(n(64),n(27)),u=n.n(h),d=n(19),b=n(36),j=n(2),w=n(3),f=n(4),p=n(48),g=n(49),v=function(){function e(t,n){Object(w.a)(this,e),this.src=t,this.parent=n}return Object(f.a)(e,[{key:"load",value:function(){var e=this;if(this.src){var t=new g.a;return new Promise((function(n){t.load("ajax/modelLoader.php?model="+e.src,(function(t){e.obj=t.scene,n()}))}))}console.error("Model loading error! src is undefined")}},{key:"clone",value:function(e){this.obj=e.obj.clone()}},{key:"init",value:function(e,t,n,i,s,o){this.obj.prototype=this,e?(this.setOptions(s,e),this.setTexture(this.options.color),t?this.setSize(t):this.size=e.size,this.setPosition(null!==n&&void 0!==n?n:e.position,i),this.dbID=o):(this.setOptions(s),this.setTexture(this.options.color),this.setSize(t),this.setPosition(n,i),this.dbID=o),this.applyOptions(),this.setHighlight(),this.setInteraction(),this.setEvents()}},{key:"transform",value:function(e){var t=this.src;console.log(t);var n=new j.r;t.objects.forEach((function(e){return n.add(e)})),this.obj=n,this.setOptions(e),this.size=t.size,this.position=t.position,this.setHighlight(),this.setInteraction(),this.applyOptions()}},{key:"setTexture",value:function(e){var t=new j.O({color:e});this.obj.traverse((function(e){e instanceof j.L&&(e.material=t)}))}},{key:"setSize",value:function(e){this.size=e,this.size={x:e.y,y:e.z,z:e.x},this.obj.scale.set(1,1,1);var t=(new j.e).setFromObject(this.obj),n=new j.vb;t.getSize(n);var i=A(this.size.x/n.x,this.size.y/n.y,this.size.z/n.z);this.obj.scale.set(i.x,i.y,i.z)}},{key:"setPosition",value:function(e,t){if(this.position=e,t)switch(t){case 1:this.obj.rotateY(.5*Math.PI);break;case 2:this.obj.rotateY(Math.PI);break;case 3:this.obj.rotateY(1.5*Math.PI);break;default:console.error("Wrong rotation value in setModelPosition function")}var n=(new j.e).setFromObject(this.obj),i=new j.vb;switch(n.getCenter(i),this.obj.position.sub(i),t){case 1:this.obj.position.x+=this.position.y+this.size.z/2+this.parent.wallThick,this.obj.position.y+=this.position.z+this.size.y/2+this.parent.wallThick,this.obj.position.z+=this.position.x+this.size.x/2+this.parent.wallThick;break;case 2:this.obj.position.x+=this.position.y+this.size.x/2+this.parent.wallThick,this.obj.position.y+=this.position.z+this.size.y/2+this.parent.wallThick,this.obj.position.z+=this.position.x+this.size.z/2+this.parent.wallThick;break;case 3:this.obj.position.x+=this.position.y+this.size.z/2+this.parent.wallThick,this.obj.position.y+=this.position.z+this.size.y/2+this.parent.wallThick,this.obj.position.z+=this.position.x+this.size.x/2+this.parent.wallThick;break;default:this.obj.position.x+=this.position.y+this.size.x/2+this.parent.wallThick,this.obj.position.y+=this.position.z+this.size.y/2+this.parent.wallThick,this.obj.position.z+=this.position.x+this.size.z/2+this.parent.wallThick}}},{key:"setHighlight",value:function(){var e=(new j.e).setFromObject(this.obj),t=new j.vb;e.getSize(t);var n=new j.vb;e.getCenter(n);var i=new j.f(t.x+.1,t.y+.1,t.z+.1),s=new j.M({color:65280,transparent:!0,opacity:.5}),o=new j.L(i,s);o.position.set(n.x,n.y,n.z),o.parentObj=this,this.hightlight=o,this.hideHightlight()}},{key:"showHightlight",value:function(e){var t=new j.M({color:e||65280,transparent:!0,opacity:.5});this.hightlight.material=t,this.hightlight.visible=!0}},{key:"hideHightlight",value:function(){this.hightlight.visible=!1}},{key:"setInteraction",value:function(){var e=(new j.e).setFromObject(this.obj),t=new j.vb;e.getSize(t);var n=new j.vb;e.getCenter(n);var i=new j.f(t.x+.1,t.y+.1,t.z+.1),s=new j.M({color:151573,transparent:!0,opacity:.5});s.visible=!1;var o=new j.L(i,s);o.position.set(n.x,n.y,n.z),o.parentObj=this.obj,this.interactionCube=o}},{key:"setOptions",value:function(e,t){var n,i,s,o,c,r,a;this.options={},t||((t={}).options={}),e||(e={}),this.options.flipX=null!==(n=e.flipX)&&void 0!==n&&n,this.options.flipY=null!==(i=e.flipY)&&void 0!==i&&i,this.options.flipZ=null!==(s=e.flipZ)&&void 0!==s&&s,this.options.color=null!==(o=null!==(c=e.color)&&void 0!==c?c:t.options.color)&&void 0!==o?o:5460564,this.events=null!==(r=null!==(a=e.events)&&void 0!==a?a:t.events)&&void 0!==r?r:{}}},{key:"applyOptions",value:function(){this.options.flipX&&(this.obj.scale.x=-this.obj.scale.x),this.options.flipY&&(this.obj.scale.y=-this.obj.scale.y),this.options.flipZ&&(this.obj.scale.z=-this.obj.scale.z)}},{key:"setEvents",value:function(){var e=this;if(this.events){var t=function(t){var n=e.events[t];n&&(e.interactionCube.cursor="pointer",e.interactionCube.on(t,(function(e){return n(e)})))};for(var n in this.events)t(n)}}}]),e}();function A(e,t,n){return{x:e,y:t,z:n}}function x(e){var t=new k;return e.forEach((function(e){e.getObjects().forEach((function(e){return t.objects.push(e)})),e.parentObj=t,e.events&&t.models.push(e)})),t}var O,m,y,I,z,k=function(){function e(t,n,i,s,o){var c,r,a;Object(w.a)(this,e),this.size=t?A(t.x,t.y,t.z):A(0,0,0),this.position=n?A(n.x,n.y,n.z):A(0,0,0),this.color=i,this.opacity=s,this.wallThick=0,this.center=A(0,0,0),this.walls=[],this.doors=[],this.windows=[],this.linkPoints=[],this.linkText=[],this.models=[],this.outline=[],this.objects=[],this.events=[],this.options=null!==o&&void 0!==o?o:{},this.events=null!==(c=this.options.events)&&void 0!==c?c:null,this.dbInfo=null!==(r=this.options.dbInfo)&&void 0!==r?r:null,this.src=null!==(a=this.options.src)&&void 0!==a?a:null}return Object(f.a)(e,[{key:"drawBox",value:function(e,t,n,i){var s=new j.f(e.y,e.z,e.x),o=new j.z({color:n,transparent:!0,opacity:null!==i&&void 0!==i?i:this.opacity}),c=new j.L(s,o);return c.position.set(t.y+e.y/2,t.z+e.z/2,t.x+e.x/2),c.name="box",this.objects.push(c),c}},{key:"drawWall",value:function(e,t,n){console.log(this.walls);var i=this.drawBox(e,t,n);i.name="additional-wall",this.walls.push(i),this.objects.push(i)}},{key:"drawDoor",value:function(e,t,n,i){var s,o,c=.4;switch(i){case 1:s={x:this.wallThick+c,y:e,z:t},o={x:this.position.x-.2,y:this.position.y+n+this.wallThick,z:this.wallThick};break;case 2:s={x:e,y:this.wallThick+c,z:t},o={x:this.position.x+n+this.wallThick,y:this.position.y+this.size.y+this.wallThick-.2,z:this.wallThick};break;case 3:s={x:this.wallThick+c,y:e,z:t},o={x:this.position.x+this.size.x+this.wallThick-.2,y:this.position.y+n+this.wallThick,z:this.wallThick};break;case 4:s={x:e,y:this.wallThick+c,z:t},o={x:this.position.x+n+this.wallThick,y:this.position.y-.2,z:this.wallThick};break;default:console.error("Wrong wallID in drawDoor function")}var r=this.drawBox(s,o,5192451,.5);r.name="door",this.doors.push(r),this.objects.push(r)}},{key:"drawWindow",value:function(e,t,n,i,s){var o,c,r=.4;switch(s){case 1:o={x:this.wallThick+r,y:e,z:t},c={x:this.position.x-.2,y:this.position.y+n+this.wallThick,z:this.position.z+this.wallThick+i};break;case 2:o={x:e,y:this.wallThick+r,z:t},c={x:this.position.x+n+this.wallThick,y:this.position.y+this.size.y+this.wallThick-.2,z:this.position.z+this.wallThick+i};break;case 3:o={x:this.wallThick+r,y:e,z:t},c={x:this.position.x+this.size.x+this.wallThick-.2,y:this.position.y+n+this.wallThick,z:this.position.z+this.wallThick+i};break;case 4:o={x:e,y:this.wallThick+r,z:t},c={x:this.position.x+n+this.wallThick,y:this.position.y-.2,z:this.position.z+this.wallThick+i};break;default:console.error("Wrong wallID in drawWindow function")}var a=this.drawBox(o,c,2816762,.2);a.name="window",this.windows.push(a),this.objects.push(a)}},{key:"drawLinkPoint",value:function(e,t,n,i){var s=(new j.rb).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAABMWlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz62OsUrDUBRAz4ui4lArBHFweJMoKLbqYMakLUUQrNUhydakoUppEl5e1X6Eo1sHF3e/wMlRcFD8Av9AcergECGDgwie6dzD5XLBqNh1p2GUYRBr1W460vV8OfvEDFMA0Amz1G61DgDiJI74wecrAuB50647Df7GfJgqDUyA7W6UhSAqQP9CpxrEGDCDfqpB3AGmOmnXQDwApV7uL0ApyP0NKCnX80F8AGbP9Xww5gAzyH0FMHV0qQFqSTpSZ71TLauWZUm7mwSRPB5lOhpkcj8OE5UmqqOjLpD/B8BivthuOnKtall76/wzrufL3N6PEIBYeixaQThU598qjJ3f5+LGeBkOb2F6UrTdK7jZgIXroq1WobwF9+MvwMZP/U6/OGUAAAAJcEhZcwAACxMAAAsTAQCanBgAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwNiA3OS4xNjQ3NTMsIDIwMjEvMDIvMTUtMTE6NTI6MTMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDUtMDVUMTQ6MDk6MDcrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA1LTA1VDE0OjIxOjMxKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA1LTA1VDE0OjIxOjMxKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxZGE1NjhhMi0yMzRhLWJlNGQtOWIxYi02MGVmMDAwMzQwMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MWRhNTY4YTItMjM0YS1iZTRkLTliMWItNjBlZjAwMDM0MDI4IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MWRhNTY4YTItMjM0YS1iZTRkLTliMWItNjBlZjAwMDM0MDI4Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZGE1NjhhMi0yMzRhLWJlNGQtOWIxYi02MGVmMDAwMzQwMjgiIHN0RXZ0OndoZW49IjIwMjEtMDUtMDVUMTQ6MDk6MDcrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ohO/2AAAeeklEQVR42u2dbZBU1bnvf4OCwqUqfroeOVXniCfnWHnRU2Wqghq+HT+JxTFVScw1N2iwrBLvp+gHKc8RZuiXvfbuHmZ6IBBCoSgmgFeREDmiARRkQBw1oLmFlXhGLmDlWjgHFRgMI6z7oVfP9AzDTM9Mz9q7u//1q6cGZnZ3717ref57vT4LVoB3Wwk8DbQBecAAGSAEVgFr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"),o=new j.nb({map:s,color:20480}),c=new j.mb(o);c.scale.set(7,7,7),c.src=t,c.position.set(n.y,n.z,n.x);var r=new p.a(e,5);if(r.position.set(n.y,n.z+7,n.x),c.options=null!==i&&void 0!==i?i:{},c.events=c.options.events,c.dbID=c.options.dbID,c.events){var a=function(e){var t=c.events[e];t&&(c.cursor="pointer",c.on(e,(function(e){return t(e)})))};for(var l in c.events)a(l)}c.parentObj=this,r.parentObj=this,c.name="link-point",r.name="link-point-caption",this.linkPoints.push(c),this.objects.push(c),this.linkText.push(r),this.objects.push(r),console.log(c)}},{key:"setHighlight",value:function(){var e=new j.r;this.objects.forEach((function(t){return e.add(t)}));var t=(new j.e).setFromObject(e),n=new j.vb;t.getSize(n);var i=new j.vb;t.getCenter(i);var s=new j.f(n.x+.1,n.y+.1,n.z+.1),o=new j.M({color:65280,transparent:!0,opacity:.5}),c=new j.L(s,o);c.position.set(i.x,i.y,i.z),c.name="hightlight",c.parentObj=this,this.hightlight=c,this.objects.push(this.hightlight),this.hideHightlight()}},{key:"showHightlight",value:function(e){var t=new j.M({color:e||65280,transparent:!0,opacity:.5});this.hightlight.material=t,this.hightlight.visible=!0}},{key:"hideHightlight",value:function(){this.hightlight.visible=!1}},{key:"setInteraction",value:function(){var e=new j.r;this.objects.forEach((function(t){return e.add(t)}));var t=(new j.e).setFromObject(e),n=new j.vb;t.getSize(n);var i=new j.vb;t.getCenter(i);var s=new j.f(n.x+1.5,n.y+1.5,n.z+1.5),o=new j.M({color:151573,transparent:!0,opacity:.5});o.visible=!1;var c=new j.L(s,o);c.position.set(i.x,i.y,i.z),c.name="interaction",c.parentObj=this,this.interactionCube=c,this.objects.push(this.interactionCube)}},{key:"setOutlineArr",value:function(){var e;(e=[]).concat.apply(e,Object(d.a)(this.outline)).forEach((function(e){var t=new j.n(e.geometry),n=new j.z({color:0,linewidth:4}),i=new j.B(t,n);i.renderOrder=1,i.name="border",e.add(i)}))}},{key:"setCenter",value:function(){var e=new j.r;this.objects.forEach((function(t){return e.add(t)}));var t=(new j.e).setFromObject(e),n=new j.vb;t.getCenter(n),n.y=0,this.center=n}},{key:"toModel",value:function(e){var t=new v(this);return t.transform(e),t}},{key:"getObjects",value:function(){return this.setCenter(),this.setOutlineArr(),this.objects}}]),e}(),B=k,T=n(50),M=n(5),C=n(6),D=function(e){Object(M.a)(n,e);var t=Object(C.a)(n);function n(e,i,s,o,c,r){var a,l;Object(w.a)(this,n),(l=t.call(this,e,i,o,c,r)).wallThick=s;var h=[l.drawBox(A(l.size.x+2*l.wallThick,l.size.y+2*l.wallThick,l.wallThick),l.position,l.color),l.drawBox(A(l.wallThick,l.size.y+2*l.wallThick,l.size.z),A(l.position.x,l.position.y,l.position.z+l.wallThick),l.color),l.drawBox(A(l.wallThick,l.size.y+2*l.wallThick,l.size.z),A(l.position.x+l.size.x+l.wallThick,l.position.y,l.position.z+l.wallThick),l.color),l.drawBox(A(l.size.x,l.wallThick,l.size.z),A(l.position.x+l.wallThick,l.position.y,l.position.z+l.wallThick),l.color),l.drawBox(A(l.size.x,l.wallThick,l.size.z),A(l.position.x+l.wallThick,l.position.y+l.size.y+l.wallThick,l.position.z+l.wallThick),l.color)];return l.walls.forEach((function(e){return e.name="main-wall"})),(a=l.walls).push.apply(a,h),l.grid=[],l.outline=[l.walls,l.doors,l.windows],l}return Object(f.a)(n,[{key:"drawLine",value:function(e,t){var n=new j.z({color:16711680}),i=[{x:e.y,y:e.z,z:e.x},{x:t.y,y:t.z,z:t.x}],s=(new j.h).setFromPoints(i),o=new j.y(s,n);return o.visible=!1,o}},{key:"drawGrid",value:function(e,t,n){for(var i=0,s=Math.floor(t.x/e)+1,o=Math.floor(t.y/e)+1,c=Math.floor(t.z/e)+1,r=0;r<c;r++){for(var a=0;a<s;a++)i++,this.grid.push(this.drawLine(A(n.x+a*e,n.y,n.z+r*e),A(n.x+a*e,t.y+n.y,n.z+r*e)));for(var l=0;l<o;l++)i++,this.grid.push(this.drawLine(A(n.x,n.y+l*e,n.z+r*e),A(t.x+n.x,n.y+l*e,n.z+r*e)))}for(var h=0;h<s;h++)for(var u=0;u<o;u++)i++,this.grid.push(this.drawLine(A(n.x+h*e,n.y+u*e,n.z),A(n.x+h*e,n.y+u*e,n.z+t.z)));return i}},{key:"setMainGrid",value:function(e){this.drawGrid(10,A(this.size.x,this.size.y,0),A(e,e,e)),this.drawGrid(10,A(0,this.size.y,this.size.z),A(e,e,e)),this.drawGrid(10,A(0,this.size.y,this.size.z),A(e+this.size.x,e,e)),this.drawGrid(10,A(this.size.x,0,this.size.z),A(e,e,e)),this.drawGrid(10,A(this.size.x,0,this.size.z),A(e,e+this.size.y,e))}},{key:"drawModel",value:function(e,t,n,i,s,o){var c=this,r=new v(e,this);return e instanceof v?(r.clone(e),r.init(e,t,n,i,s,o),this.models.push(r),this.objects.push(r.obj),this.objects.push(r.interactionCube),this.objects.push(r.hightlight),r):new Promise((function(e){r.load().then((function(){r.init(null,t,n,i,s,o),c.models.push(r),c.objects.push(r.obj),c.objects.push(r.interactionCube),c.objects.push(r.hightlight),e(r)}))}))}}]),n}(B),E=function(){function e(t,n,i){Object(w.a)(this,e),this.structures=[],this.objects=[],this.models=[],this.scene=t,this.camera=n,this.current=null,this.renderer=i,this.target=null}return Object(f.a)(e,[{key:"createRoom",value:function(e,t,n,i,s,o){var c=new D(e,t,n,i,s,o);return this.rooms.push(c),c}},{key:"selectStructure",value:function(e){var t,n;(t=this.objects).push.apply(t,Object(d.a)(e.getObjects())),e.models&&(n=this.models).push.apply(n,Object(d.a)(e.models)),this.current=e}},{key:"hideModelsHightlights",value:function(e){e.models.forEach((function(e){e.hideHightlight()}))}},{key:"setCamera",value:function(e,t,n){this.camera.position.set(e,t,n)}},{key:"addToScene",value:function(){var e=this;this.objects.forEach((function(t){e.scene.add(t)}))}},{key:"clearScene",value:function(){this.objects=[],this.scene.clear()}}]),e}(),N=n(52),F=n(51),L=n(86);function S(e){m(),document.getElementById("WebGL-info").classList.remove("none");var t=e.target.parentObj.prototype;O=t.parent,W.hideModelsHightlights(O),t.showHightlight();var n=t.dbID;fetch("ajax/modelData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"id="+n}).then((function(e){return e.json()})).then((function(e){y(e)}))}function R(e){m(),document.getElementById("WebGL-info").classList.remove("none");var t=e.target.parentObj,n=t.parentObj;W.target=t,W.hideModelsHightlights(n),t.showHightlight();var i=t.dbInfo.buildingID,s=t.dbInfo.floor;fetch("ajax/floorData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"building=".concat(i,"&floor=").concat(s)}).then((function(e){return e.json()})).then((function(e){I(e)}))}function Q(e){m(),document.getElementById("WebGL-info").classList.remove("none");var t=e.target,n=t.parentObj;W.target=t,W.hideModelsHightlights(n),n.linkPoints.forEach((function(e){return e.material.color.set(20480)})),t.material.color.set(16777215),console.log(n);var i=t.dbID;fetch("ajax/roomData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"room=".concat(i)}).then((function(e){return e.json()})).then((function(e){z(e)}))}var Y=function(e){var t=Object(i.useState)([]),n=Object(r.a)(t,2),s=n[0],o=n[1];return Object(i.useEffect)((function(){m=function(){o([])},y=function(e){if(e.refs){var t=e.refs.split(", ");O.models.forEach((function(e){t.indexOf(String(e.dbID))>-1&&e.showHightlight(16711680)}))}delete e.refs;var n=[Object(a.jsx)("h4",{className:"webgl__property webgl__heading",children:e.table},"table")];for(var i in delete e.table,e)n.push(Object(a.jsxs)("h6",{children:[Object(a.jsx)("span",{className:"webgl__property",children:i}),e[i]]},n.length));o(n)},I=function(t){var n=[Object(a.jsx)("h4",{className:"webgl__property webgl__heading",children:t.shift()[0]},"table")];if(0===t.length)n.push(Object(a.jsx)("h6",{children:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"},0));else{n.push(Object(a.jsx)("h6",{children:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b:"},-1));var i=t.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)("h6",{children:e[0]})},t)}));n.push(Object(a.jsx)("ul",{className:"webgl__items-list",children:i},i.length))}n.push(Object(a.jsx)("button",{className:"webgl__infobtn",onClick:e.setScene,children:Object(a.jsx)("h6",{className:"webgl__infobtn__caption",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})},n.length)),o(n)},z=function(t){var n=[Object(a.jsxs)("h4",{className:"webgl__property webgl__heading",children:["\u0417\u0434\u0430\u043d\u0438\u0435: ",t[0]]},0),Object(a.jsxs)("h4",{className:"webgl__property webgl__heading",children:["\u041a\u043e\u043c\u043d\u0430\u0442\u0430: ",t[1]]},1),Object(a.jsx)("h5",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"},2),Object(a.jsx)("h6",{children:t[2]},3)];n.push(Object(a.jsx)("button",{className:"webgl__infobtn",onClick:e.setScene,children:Object(a.jsx)("h6",{className:"webgl__infobtn__caption",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})},n.length)),o(n)}})),0===s.length?Object(a.jsx)("div",{className:"webgl__spinner",children:Object(a.jsx)(L.a,{animation:"border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsx)("div",{className:"webgl__info__mark",children:s})},G=function(e){Object(M.a)(n,e);var t=Object(C.a)(n);function n(e,i,s,o,c){var r,a,l,h,u,d,b,j;if(Object(w.a)(this,n),(j=t.call(this,e,i,s,o,c)).box=j.drawBox(e,i,s,o),j.objects.push(j.box),j.windowsCount1=null!==(r=j.options.windowsCount1)&&void 0!==r?r:0,j.windowsCount2=null!==(a=j.options.windowsCount2)&&void 0!==a?a:0,j.windowsCount3=null!==(l=j.options.windowsCount3)&&void 0!==l?l:0,j.windowsCount4=null!==(h=j.options.windowsCount4)&&void 0!==h?h:0,j.windowWidth=null!==(u=j.options.windowWidth)&&void 0!==u?u:j.size.x>j.size.y?j.size.y/4:j.size.x/4,j.windowHeight=null!==(d=j.options.windowHeight)&&void 0!==d?d:j.size.z/1.5,j.windowsTop=null!==(b=j.options.windowsTop)&&void 0!==b?b:0,j.drawBuildingWindows(j.windowsCount1,1),j.drawBuildingWindows(j.windowsCount2,2),j.drawBuildingWindows(j.windowsCount3,3),j.drawBuildingWindows(j.windowsCount4,4),j.outline=[j.box,j.windows,j.doors],j.events){j.setHighlight(),j.setInteraction();var f=function(e){var t=j.events[e];t&&(j.interactionCube.cursor="pointer",j.interactionCube.on(e,(function(e){return t(e)})))};for(var p in j.events)f(p)}return j}return Object(f.a)(n,[{key:"drawBuildingWindows",value:function(e,t){var n;if(1===t||3===t)n=(this.size.y-e*this.windowWidth)/(e+1);else{if(2!==t&&4!==t)return void console.error("wrong wallID value");n=(this.size.x-e*this.windowWidth)/(e+1)}for(var i=n,s=0;s<e;s++)this.drawWindow(this.windowWidth,this.windowHeight,i+s*(n+this.windowWidth),this.size.z/2-this.windowHeight/2+this.windowsTop,t)}}]),n}(B);var J=function(e){return new Promise((function(t){console.log(W.structures);var n=W.structures.find((function(t){return t.src===e}));console.log(n),n?(console.log("cached"),n.src=e,t(n)):fetch("ajax/scriptLoader.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"file="+e}).then((function(e){return e.text()})).then((function(n){var i=Function(n)(),s=i.toString().match(/function\s.*?\(([^)]*)\)/)[1].split(",").map((function(e){return e.replace(/\/\*.*\*\//,"").trim()})).filter((function(e){return e})).map((function(e){switch(e){case"Room":return D;case"Building":return G;case"toVector":return A;case"showModelInformation":return S;case"showFloorInformation":return R;case"showRoomInformation":return Q;case"infoModel":return W;case"toStructure":return x;case"Model":return v;default:return null}}));i.apply(void 0,Object(d.a)(s)).then((function(n){W.structures.push(n),n.prev=W.current,n.src=e,t(n)}))}))}))},P={showGrid:!1,showHightlight:!1};var W,H,U,Z,K,X,V=200;var _=function(){!function(){var e=(H=document.getElementById("WebGL-Output")).offsetWidth,t=window.innerHeight/(window.innerWidth/e);U=new j.gb,(Z=new j.W(45,e/t,.1,1e3)).position.set(V,V,V),(K=new j.xb).setClearColor(15658734,1),K.setSize(e,t)}(),console.log(U),W=new E(U,Z,K),new T.a(K,U,Z),(X=new N.a(Z,H)).update(),X.autoRotateSpeed=1,X.autoRotate=!0,X.enableRotate=!1,X.enableZoom=!1,function(){var e=document.getElementById("GUI-Container"),t=new F.a({autoPlace:!1,closeOnTop:!0});t.close();var n=t.add(P,"showGrid",!1),i=t.add(P,"showHightlight",!1);e.appendChild(t.domElement),n.onChange((function(e){J.grid.forEach((function(t){return t.visible=e}))})),i.onChange((function(e){J.models.forEach((function(t){return e?t.showHightlight():t.hideHightlight()}))}))}()};function q(){return(q=Object(b.a)(u.a.mark((function e(t){var n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W.clearScene(),$(),e.next=4,J(t);case 4:n=e.sent,W.selectStructure(n),i=document.getElementById("returnButton"),W.current.prev?i.classList.remove("none"):i.classList.add("none"),W.setCamera(250,250,250),W.addToScene();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e=new j.a(16777215,.7);U.add(e);var t=new j.l(16777215);t.position.set(0,1,1),U.add(t)}function ee(){requestAnimationFrame(ee),X.update(),function(){var e;W.current?Z.lookAt.apply(Z,Object(d.a)([(e=W.current.center).x,e.y,e.z])):Z.lookAt(0,0,0),K.render(U,Z)}()}var te=function(e){return q.apply(this,arguments)};n(66);function ne(e){e.classList.add("none"),console.log(W),W.current.models.forEach((function(e){return e.hideHightlight()})),W.current.linkPoints.forEach((function(e){return e.material.color.set(20480)}))}var ie=function(){var e=Object(i.useRef)(null);return Object(a.jsxs)("div",{id:"WebGL-info",className:"webgl__info none",ref:e,children:[Object(a.jsx)("button",{type:"button",className:"webgl__info__close",onClick:function(){return ne(e.current)}}),Object(a.jsx)(Y,{setScene:function(){ne(e.current),te(W.target.src)}})]})},se=(n(67),n(68),n(87)),oe=n(56),ce=n(91);var re=function(e){if(null===e.children)return Object(a.jsx)(ce.a.Item,{children:Object(a.jsx)(L.a,{animation:"border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})});var t=e.children.map((function(e,t){var n=e.shift(),i=e.join(" ");return Object(a.jsx)(ce.a.Item,{as:"button",eventKey:n,onClick:function(e,t){return function(e,t){console.log(t),console.log(e)}(e,t)},children:i},t)}));return console.log(t),0===t.length?Object(a.jsx)(ce.a,{children:Object(a.jsx)(ce.a.Item,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}):Object(a.jsx)(ce.a,{children:t})},ae=s.a.forwardRef((function(e,t){var n=Object(i.useState)("\u0427\u0442\u043e \u0438\u0449\u0435\u043c?"),s=Object(r.a)(n,2),o=s[0],c=s[1],l=Object(i.useState)(null),h=Object(r.a)(l,2),u=h[0],d=h[1],b=Object(i.useState)(null),j=Object(r.a)(b,2),w=j[0],f=j[1],p=Object(i.useRef)(null),g=Object(i.useRef)(null),v=function(e,t){p.current.value="",g.current.classList.add("none"),c(t.target.innerText),d(e)};return Object(a.jsxs)("div",{className:"webgl-search__input-container",ref:t,id:"WebGl-inputContainer",children:[Object(a.jsxs)(se.a,{drop:"up",variant:"secondary",title:o,className:"webgl-search__dropdown",children:[Object(a.jsx)(oe.a.Item,{eventKey:"dvigateli",onSelect:function(e,t){return v(e,t)},children:"\u0414\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"shitki",onSelect:function(e,t){return v(e,t)},children:"\u0429\u0438\u0442\u044b"}),Object(a.jsx)(oe.a.Item,{eventKey:"puskateli",onSelect:function(e,t){return v(e,t)},children:"\u041f\u0443\u0441\u043a\u0430\u0442\u0435\u043b\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"rele",onSelect:function(e,t){return v(e,t)},children:"\u0420\u0435\u043b\u0435"})]}),Object(a.jsxs)("div",{className:"webgl-search__input-inner",children:[Object(a.jsx)("div",{id:"webgl-resultList",className:"webgl-search__result-list none",ref:g,children:Object(a.jsx)(re,{children:w})}),Object(a.jsx)("input",{type:"text",id:"WebGl-input",className:"h6 webgl-search__input",placeholder:"\u041f\u043e\u0438\u0441\u043a...",ref:p,onInput:function(e){return function(e,t){f(null);var n=e.target.value;""===n?g.current.classList.add("none"):(g.current.classList.remove("none"),fetch("ajax/search.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"req=".concat(n,"&table=").concat(t)}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),f(e)})))}(e,u)}})]})]})})),le=!1;var he=s.a.forwardRef((function(e,t){var n=Object(i.useRef)(null),s=Object(i.useRef)(null),o=Object(i.useRef)(null),c=Object(i.useRef)(null);return Object(a.jsxs)("div",{ref:t,className:"webgl-search__container none",id:"WebGL-search",children:[Object(a.jsxs)("button",{type:"button",className:"webgl-search__button webgl__button",ref:n,onClick:function(){le?function(e){var t=e.getElementsByTagName("button"),n=document.getElementById("WebGl-inputContainer"),i=document.getElementById("WebGl-input"),s=document.getElementById("webgl-resultList"),o=e.getElementsByClassName("bi-search"),c=e.getElementsByClassName("bi-x");o[0].classList.remove("none"),c[0].classList.add("none"),t[0].classList.remove("webgl-search__button--opened"),n.classList.remove("webgl-search__input-container--opened"),s.classList.add("none"),i.value="",le=!1}(t.current):(o.current.classList.add("none"),c.current.classList.remove("none"),n.current.classList.add("webgl-search__button--opened"),s.current.classList.add("webgl-search__input-container--opened"),s.current.focus(),ne(document.getElementById("WebGL-info")),le=!0)},children:[Object(a.jsx)("i",{className:"bi bi-search webgl__icon",ref:o}),Object(a.jsx)("i",{className:"bi bi-x webgl__icon none",ref:c})]}),Object(a.jsx)(ae,{ref:s})]})}));n(72);var ue=function(){return Object(a.jsxs)("button",{className:"webgl__return-button none",id:"returnButton",onClick:function(){W.current.prev&&(ne(document.getElementById("WebGL-info")),te(W.current.prev.src))},children:[Object(a.jsx)("i",{className:"bi bi-box-arrow-in-left webgl__return-icon"}),Object(a.jsx)("h5",{className:"webgl__return-caption",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})};n(73);var de=function(){Object(i.useEffect)((function(){_(),H.appendChild(K.domElement),ee(),te("main.js")}));var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useRef)(null),s=Object(i.useRef)(null),o=Object(i.useRef)(null),c=function(e){t.current.classList.add("none"),e.target.classList.add("none"),o.current.classList.remove("none"),X.autoRotate=!1,X.enableRotate=!0,X.enableZoom=!0},r=!1;return Object(a.jsxs)("div",{className:"webgl__container",ref:e,children:[" ",Object(a.jsx)("div",{id:"WebGL-Output",className:"webgl__output",children:" "})," ",Object(a.jsx)("div",{id:"GUI-Container",className:"gui__container"})," ",Object(a.jsx)("div",{className:"webgl__blackout",ref:t})," ",Object(a.jsx)("button",{type:"button",className:"webgl__start",onClick:function(e){return c(e)}})," ",Object(a.jsxs)("button",{type:"button",id:"WebGL-fullscreen",className:"webgl__button webgl__fullscreen",onClick:function(){r?(e.current.classList.remove("fullscreen"),n.current.classList.remove("none"),s.current.classList.add("none")):(e.current.classList.add("fullscreen"),n.current.classList.add("none"),s.current.classList.remove("none")),function(){var e=H.offsetWidth,t=window.innerHeight/(window.innerWidth/e);K.setSize(e,t)}(),r=!r},children:[Object(a.jsx)("i",{className:"bi bi-arrows-angle-expand webgl__icon",ref:n})," ",Object(a.jsx)("i",{className:"bi bi-arrows-angle-contract webgl__icon none",ref:s})," "]}),Object(a.jsx)(he,{ref:o})," ",Object(a.jsx)(ue,{}),Object(a.jsx)(ie,{})," "]})},be=(n(74),n(75),n(76),n(77),n(88));var je=function(e){for(var t=e.data[0].map((function(e,t){return Object(a.jsx)("th",{children:e},t)})),n=[],i=1;i<e.data.length;i++){var s=e.data[i].map((function(e,t){return Object(a.jsx)("td",{children:e},t)}));n.push(Object(a.jsx)("tr",{children:s},n.length))}return console.log(t),Object(a.jsx)("div",{className:"db-menu__table",children:Object(a.jsxs)(be.a,{striped:!0,bordered:!0,hover:!0,className:"db-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[t," "]})}),Object(a.jsxs)("tbody",{children:[n," "]})]})})};n(78);var we=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var fe=function(e){var t=Object(i.useState)([[]]),n=Object(r.a)(t,2),s=n[0],o=n[1];return Object(i.useEffect)((function(){fetch("ajax/columnData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"table=rooms"}).then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))}),[]),"Insert"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),Object(a.jsx)(ke,{caption:"\u0417\u0434\u0430\u043d\u0438\u0435",data:s[0]}),Object(a.jsx)(Be,{caption:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),Object(a.jsx)(ke,{caption:"\u0417\u0434\u0430\u043d\u0438\u0435",data:s[0]}),Object(a.jsx)(Be,{caption:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var pe=function(e){var t=Object(i.useState)([[]]),n=Object(r.a)(t,2),s=n[0],o=n[1];return Object(i.useEffect)((function(){fetch("ajax/columnData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"table=dvigateli"}).then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))}),[]),"Insert"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("\u041c\u043e\u0434\u0435\u043b\u044c"),ze("\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"),ze("\u041e\u0431/\u041c\u0438\u043d"),ze("\u041a\u041f\u0414"),ze("cos u"),ze("\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),Object(a.jsx)(ke,{caption:"\u0429\u0438\u0442",data:s[0]})]}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041c\u043e\u0434\u0435\u043b\u044c"),ze("\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"),ze("\u041e\u0431/\u041c\u0438\u043d"),ze("\u041a\u041f\u0414"),ze("cos u"),ze("\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),Object(a.jsx)(ke,{caption:"\u0429\u0438\u0442",data:s[0]})]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var ge=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var ve=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var Ae=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var xe=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var Oe=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var me=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0};var ye=function(e){return"Insert"===e.action?Object(a.jsx)(a.Fragment,{children:ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[ze("id"),ze("\u041e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")]}):"Delete"===e.action?Object(a.jsx)(a.Fragment,{children:ze("id")}):void 0},Ie=n(89);function ze(e){return Object(a.jsxs)("div",{className:"db-menu__row",children:[Object(a.jsx)("h5",{children:e}),Object(a.jsx)("input",{type:"text",className:"db-menu__input form-control"})]})}function ke(e){var t=e.data.map((function(e,t){return Object(a.jsx)(oe.a.Item,{eventKey:e,onSelect:function(e){return c(e)},children:e},t)})),n=Object(i.useState)(e.data[0]),s=Object(r.a)(n,2),o=s[0],c=s[1];return Object(a.jsxs)("div",{className:"db-menu__row",children:[Object(a.jsx)("h5",{children:e.caption}),Object(a.jsxs)(oe.a,{className:"db-dropdown db-menu__input",children:[Object(a.jsx)(oe.a.Toggle,{id:"dropdown-basic",children:o}),Object(a.jsx)(oe.a.Menu,{children:t})]})]})}function Be(e){return Object(a.jsxs)(Ie.a.Group,{className:"mb-3 db-menu__input",controlId:"ControlTextarea1",children:[Object(a.jsx)(Ie.a.Label,{children:Object(a.jsx)("h5",{children:e.caption})}),Object(a.jsx)(Ie.a.Control,{as:"textarea",rows:3})]})}function Te(){}function Me(){}function Ce(){}var De=function(e){var t;switch(e.table){case"\u0417\u0434\u0430\u043d\u0438\u044f":t=Object(a.jsx)(we,{action:e.action});break;case"\u041a\u043e\u043c\u043d\u0430\u0442\u044b":t=Object(a.jsx)(fe,{action:e.action});break;case"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u0438":t=Object(a.jsx)(pe,{action:e.action});break;case"\u0429\u0438\u0442\u044b":t=Object(a.jsx)(ge,{action:e.action});break;case"\u041f\u0443\u0441\u043a\u0430\u0442\u0435\u043b\u0438":t=Object(a.jsx)(ve,{action:e.action});break;case"\u0410\u0432\u0442\u043e\u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0438":t=Object(a.jsx)(Ae,{action:e.action});break;case"\u0420\u0435\u043b\u0435":t=Object(a.jsx)(xe,{action:e.action});break;case"\u041a\u043b\u044e\u0447\u0438":t=Object(a.jsx)(Oe,{action:e.action});break;case"\u041b\u0430\u043c\u043f\u044b":t=Object(a.jsx)(me,{action:e.action});break;case"\u041a\u043d\u043e\u043f\u043a\u0438":t=Object(a.jsx)(ye,{action:e.action})}return"Insert"===e.action?Object(a.jsxs)(a.Fragment,{children:[t," ",Object(a.jsx)("button",{type:"button",className:"db-menu__button",onClick:Te,children:Object(a.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]}):"Update"===e.action?Object(a.jsxs)(a.Fragment,{children:[t," ",Object(a.jsx)("button",{type:"button",className:"db-menu__button",onClick:Me,children:Object(a.jsx)("h3",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]}):"Delete"===e.action?Object(a.jsxs)(a.Fragment,{children:[t," ",Object(a.jsx)("button",{type:"button",className:"db-menu__button",onClick:Ce,children:Object(a.jsx)("h3",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}):void 0},Ee=n(90);var Ne=function(e){var t=Object(i.useState)("Insert"),n=Object(r.a)(t,2),s=n[0],o=n[1];return"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"!==e.table?Object(a.jsxs)("div",{className:"db-menu__edit",children:[Object(a.jsxs)(Ee.a,{variant:"tabs",defaultActiveKey:"Insert",children:[Object(a.jsx)(Ee.a.Item,{children:Object(a.jsx)(Ee.a.Link,{eventKey:"Insert",onSelect:function(e){return o(e)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),Object(a.jsx)(Ee.a.Item,{children:Object(a.jsx)(Ee.a.Link,{eventKey:"Update",onSelect:function(e){return o(e)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(a.jsx)(Ee.a.Item,{children:Object(a.jsx)(Ee.a.Link,{eventKey:"Delete",onSelect:function(e){return o(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}),Object(a.jsx)(De,{table:e.table,action:s})]}):Object(a.jsx)("div",{className:"db-menu__edit",children:Object(a.jsx)("h4",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f!"})})};var Fe=function(){var e=Object(i.useState)("\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),t=Object(r.a)(e,2),n=t[0],s=t[1],o=Object(i.useState)([[]]),c=Object(r.a)(o,2),l=c[0],h=c[1],u=function(e){fetch("ajax/tableData.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"table=".concat(e)}).then((function(e){return e.json()})).then((function(t){console.log(t),s(e),h(t)}))};return Object(i.useEffect)((function(){u("\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435")}),[]),Object(a.jsxs)("div",{className:"db-menu",children:[Object(a.jsxs)(oe.a,{className:"db-dropdown",children:[" ",Object(a.jsxs)(oe.a.Toggle,{id:"dropdown-basic",children:[" ",n," "]}),Object(a.jsxs)(oe.a.Menu,{children:[" ",Object(a.jsx)(oe.a.Item,{eventKey:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",onSelect:function(e){return u(e)},children:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u0417\u0434\u0430\u043d\u0438\u044f",onSelect:function(e){return u(e)},children:"\u0417\u0434\u0430\u043d\u0438\u044f"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b",onSelect:function(e){return u(e)},children:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u0438",onSelect:function(e){return u(e)},children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u0429\u0438\u0442\u044b",onSelect:function(e){return u(e)},children:"\u0429\u0438\u0442\u044b"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u041f\u0443\u0441\u043a\u0430\u0442\u0435\u043b\u0438",onSelect:function(e){return u(e)},children:"\u041f\u0443\u0441\u043a\u0430\u0442\u0435\u043b\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u0410\u0432\u0442\u043e\u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0438",onSelect:function(e){return u(e)},children:"\u0410\u0432\u0442\u043e\u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u0420\u0435\u043b\u0435",onSelect:function(e){return u(e)},children:"\u0420\u0435\u043b\u0435"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u041a\u043b\u044e\u0447\u0438",onSelect:function(e){return u(e)},children:"\u041a\u043b\u044e\u0447\u0438"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u041b\u0430\u043c\u043f\u044b",onSelect:function(e){return u(e)},children:"\u041b\u0430\u043c\u043f\u044b"}),Object(a.jsx)(oe.a.Item,{eventKey:"\u041a\u043d\u043e\u043f\u043a\u0438",onSelect:function(e){return u(e)},children:"\u041a\u043d\u043e\u043f\u043a\u0438"})]})]}),Object(a.jsxs)("div",{className:"db-menu__inner",children:[Object(a.jsx)(je,{data:l}),Object(a.jsx)(Ne,{table:n})]})]})};var Le=function(e){return 0===e.tab?Object(a.jsx)(de,{}):1===e.tab?Object(a.jsx)(Fe,{}):void 0};var Se=function(){var e=Object(i.useState)(0),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ee.a,{variant:"tabs",defaultActiveKey:"link-1",children:[Object(a.jsx)(Ee.a.Item,{children:Object(a.jsx)(Ee.a.Link,{eventKey:"link-1",onSelect:function(){return s(0)},children:"3D-\u043c\u043e\u0434\u0435\u043b\u044c"})}),Object(a.jsx)(Ee.a.Item,{children:Object(a.jsx)(Ee.a.Link,{eventKey:"link-2",onSelect:function(){return s(1)},children:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b"})})]}),Object(a.jsx)(Le,{tab:n})]})};var Re=function(e){return e.userInfo.default?Object(a.jsx)(de,{}):Object(a.jsx)(Se,{})};n(80),n(81);var Qe=function(e){var t=Object(i.useState)(!0),n=Object(r.a)(t,2),s=n[0],o=n[1],c=Object(i.useRef)(null),l=Object(i.useRef)(null),h=Object(i.useRef)(null),u=function(t){if(console.log(t),o(!0),t.isLogged){var n={default:!1,name:t.name,role:t.role};e.setUserInfo(n),e.setAuth(!0)}else h.current.classList.add("auth__err--show"),setTimeout((function(){return h.current.classList.remove("auth__err--show")}),2e3)};return s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"auth__row",children:[Object(a.jsx)("h4",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(a.jsx)("input",{type:"username",className:"auth__input form-control",ref:c})]}),Object(a.jsxs)("div",{className:"auth__row",children:[Object(a.jsx)("h4",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)("input",{type:"password",className:"form-control auth__input",ref:l})]}),Object(a.jsx)("button",{type:"button",className:"auth__button",onClick:function(){var e=c.current.value,t=l.current.value;o(!1),fetch("ajax/login.php",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"username=".concat(e,"&password=").concat(t)}).then((function(e){return e.json()})).then((function(e){u(e)}))},children:Object(a.jsx)("h4",{children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(a.jsx)("h6",{className:"auth__link",onClick:function(){return e.setAuth(!0)},children:"\u0412\u043e\u0439\u0442\u0438 \u043a\u0430\u043a \u0433\u043e\u0441\u0442\u044c"}),Object(a.jsx)("h6",{className:"auth__err",ref:h,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: \u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]}):Object(a.jsx)("div",{className:"webgl__spinner",children:Object(a.jsx)(L.a,{animation:"border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})};var Ye=function(e){return Object(a.jsxs)("div",{className:"auth__container",children:[Object(a.jsx)("h1",{className:"auth__caption",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(a.jsx)(Qe,{setAuth:e.setAuth,setUserInfo:e.setUserInfo})]})};var Ge=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],o=Object(i.useState)({default:!0,name:"\u0413\u043e\u0441\u0442\u044c",role:"User"}),c=Object(r.a)(o,2),h=c[0],u=c[1];return n?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(l,{}),Object(a.jsx)(Re,{userInfo:h})]}):Object(a.jsx)(Ye,{setAuth:s,setUserInfo:u})};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Ge,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.11e91acf.chunk.js.map